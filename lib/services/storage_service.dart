import 'dart:convert';

import 'package:shared_preferences/shared_preferences.dart';

import '../data/categories.dart';
import '../models/learning_progress.dart';
import '../models/topic.dart';
import '../models/vocabulary.dart';

class StorageService {
  static const String _topicsKey = 'vocab_topics';
  static const String _progressKey = 'vocab_progress';

  late SharedPreferences _prefs;

  Future<void> init() async {
    _prefs = await SharedPreferences.getInstance();
  }

  // Topics
  Future<List<Topic>> getTopics() async {
    final jsonString = _prefs.getString(_topicsKey);
    if (jsonString == null) return [];
    try {
      final List<dynamic> jsonList = jsonDecode(jsonString) as List<dynamic>;
      return jsonList
          .map((j) => Topic.fromJson(j as Map<String, dynamic>))
          .toList();
    } catch (_) {
      return [];
    }
  }

  Future<void> saveTopics(List<Topic> topics) async {
    final jsonList = topics.map((t) => t.toJson()).toList();
    await _prefs.setString(_topicsKey, jsonEncode(jsonList));
  }

  // Progress
  Future<Map<String, LearningProgress>> getProgress() async {
    final jsonString = _prefs.getString(_progressKey);
    if (jsonString == null) return {};
    try {
      final Map<String, dynamic> jsonMap =
          jsonDecode(jsonString) as Map<String, dynamic>;
      return jsonMap.map(
        (k, v) => MapEntry(k, LearningProgress.fromJson(v as Map<String, dynamic>)),
      );
    } catch (_) {
      return {};
    }
  }

  Future<void> saveProgress(Map<String, LearningProgress> progress) async {
    final jsonMap = progress.map(
      (k, v) => MapEntry(k, v.toJson()),
    );
    await _prefs.setString(_progressKey, jsonEncode(jsonMap));
  }

  /// Xóa toàn bộ dữ liệu (topics + progress) để seed lại demo mới.
  Future<void> clearAllData() async {
    await init();
    await _prefs.remove(_topicsKey);
    await _prefs.remove(_progressKey);
  }

  // Seed demo data
  Future<void> seedDemoData() async {
    final topics = await getTopics();
    final existingIds = topics.map((t) => t.id).toSet();
    
    // Migration: nếu demo-1 chỉ có 3 từ (bản cũ), thay bằng demo 40 từ
    bool needSeed = topics.isEmpty;
    if (topics.isNotEmpty) {
      final giaDinh = topics.where((t) => t.id == 'demo-1').firstOrNull;
      if (giaDinh == null || giaDinh.words.length < 40) {
        needSeed = true;
      }
    }
    
    // Luôn seed các topic IPA nếu chưa có
    if (!existingIds.contains('ipa-1') || !existingIds.contains('ipa-2') || !existingIds.contains('ipa-3')) {
      needSeed = true;
    }
    
    // Luôn seed các topic Idiom & collocations nếu chưa có
    if (!existingIds.contains('idiom-1') || !existingIds.contains('idiom-2') || !existingIds.contains('idiom-3')) {
      needSeed = true;
    }
    
    // Luôn seed các topic Ngữ pháp (14 thì chủ động) nếu chưa có
    bool hasAllGrammarTopics = true;
    for (int i = 1; i <= 14; i++) {
      if (!existingIds.contains('grammar-$i')) {
        hasAllGrammarTopics = false;
        break;
      }
    }
    if (!hasAllGrammarTopics) {
      needSeed = true;
    }
    
    // Nếu chỉ thiếu topic IPA, merge với topics hiện có
    if (topics.isNotEmpty && existingIds.contains('demo-1') && existingIds.contains('demo-2')) {
      final ipaTopics = [
        Topic(
          id: 'ipa-1',
          name: 'Nguyên âm đơn (Monophthongs)',
          description: '12 nguyên âm đơn trong tiếng Anh',
          categoryId: CategoryIds.ipa,
          words: [
            Vocabulary(id: 'ipa-1-1', word: 'see', meaning: 'nhìn', wordForm: 'verb', englishDefinition: '/iː/'),
            Vocabulary(id: 'ipa-1-2', word: 'sheep', meaning: 'cừu', wordForm: 'noun', englishDefinition: '/iː/'),
            Vocabulary(id: 'ipa-1-3', word: 'sit', meaning: 'ngồi', wordForm: 'verb', englishDefinition: '/ɪ/'),
            Vocabulary(id: 'ipa-1-4', word: 'ship', meaning: 'tàu', wordForm: 'noun', englishDefinition: '/ɪ/'),
            Vocabulary(id: 'ipa-1-5', word: 'bed', meaning: 'giường', wordForm: 'noun', englishDefinition: '/e/'),
            Vocabulary(id: 'ipa-1-6', word: 'pen', meaning: 'bút', wordForm: 'noun', englishDefinition: '/e/'),
            Vocabulary(id: 'ipa-1-7', word: 'cat', meaning: 'mèo', wordForm: 'noun', englishDefinition: '/æ/'),
            Vocabulary(id: 'ipa-1-8', word: 'map', meaning: 'bản đồ', wordForm: 'noun', englishDefinition: '/æ/'),
            Vocabulary(id: 'ipa-1-9', word: 'cup', meaning: 'cốc', wordForm: 'noun', englishDefinition: '/ʌ/'),
            Vocabulary(id: 'ipa-1-10', word: 'love', meaning: 'yêu', wordForm: 'verb', englishDefinition: '/ʌ/'),
            Vocabulary(id: 'ipa-1-11', word: 'car', meaning: 'xe hơi', wordForm: 'noun', englishDefinition: '/ɑː/'),
            Vocabulary(id: 'ipa-1-12', word: 'father', meaning: 'cha', wordForm: 'noun', englishDefinition: '/ɑː/'),
            Vocabulary(id: 'ipa-1-13', word: 'hot', meaning: 'nóng', wordForm: 'adjective', englishDefinition: '/ɒ/'),
            Vocabulary(id: 'ipa-1-14', word: 'box', meaning: 'hộp', wordForm: 'noun', englishDefinition: '/ɒ/'),
            Vocabulary(id: 'ipa-1-15', word: 'law', meaning: 'luật', wordForm: 'noun', englishDefinition: '/ɔː/'),
            Vocabulary(id: 'ipa-1-16', word: 'talk', meaning: 'nói chuyện', wordForm: 'verb', englishDefinition: '/ɔː/'),
            Vocabulary(id: 'ipa-1-17', word: 'put', meaning: 'đặt', wordForm: 'verb', englishDefinition: '/ʊ/'),
            Vocabulary(id: 'ipa-1-18', word: 'book', meaning: 'sách', wordForm: 'noun', englishDefinition: '/ʊ/'),
            Vocabulary(id: 'ipa-1-19', word: 'blue', meaning: 'màu xanh', wordForm: 'adjective', englishDefinition: '/uː/'),
            Vocabulary(id: 'ipa-1-20', word: 'food', meaning: 'thức ăn', wordForm: 'noun', englishDefinition: '/uː/'),
            Vocabulary(id: 'ipa-1-21', word: 'bird', meaning: 'chim', wordForm: 'noun', englishDefinition: '/ɜː/'),
            Vocabulary(id: 'ipa-1-22', word: 'girl', meaning: 'cô gái', wordForm: 'noun', englishDefinition: '/ɜː/'),
            Vocabulary(id: 'ipa-1-23', word: 'about', meaning: 'về', wordForm: 'preposition', englishDefinition: '/ə/'),
            Vocabulary(id: 'ipa-1-24', word: 'ago', meaning: 'trước đây', wordForm: 'adverb', englishDefinition: '/ə/'),
          ],
        ),
        Topic(
          id: 'ipa-2',
          name: 'Nguyên âm đôi (Diphthongs)',
          description: '8 nguyên âm đôi trong tiếng Anh',
          categoryId: CategoryIds.ipa,
          words: [
            Vocabulary(id: 'ipa-2-1', word: 'say', meaning: 'nói', wordForm: 'verb', englishDefinition: '/eɪ/'),
            Vocabulary(id: 'ipa-2-2', word: 'make', meaning: 'làm', wordForm: 'verb', englishDefinition: '/eɪ/'),
            Vocabulary(id: 'ipa-2-3', word: 'my', meaning: 'của tôi', wordForm: 'pronoun', englishDefinition: '/aɪ/'),
            Vocabulary(id: 'ipa-2-4', word: 'time', meaning: 'thời gian', wordForm: 'noun', englishDefinition: '/aɪ/'),
            Vocabulary(id: 'ipa-2-5', word: 'boy', meaning: 'cậu bé', wordForm: 'noun', englishDefinition: '/ɔɪ/'),
            Vocabulary(id: 'ipa-2-6', word: 'choice', meaning: 'lựa chọn', wordForm: 'noun', englishDefinition: '/ɔɪ/'),
            Vocabulary(id: 'ipa-2-7', word: 'now', meaning: 'bây giờ', wordForm: 'adverb', englishDefinition: '/aʊ/'),
            Vocabulary(id: 'ipa-2-8', word: 'house', meaning: 'nhà', wordForm: 'noun', englishDefinition: '/aʊ/'),
            Vocabulary(id: 'ipa-2-9', word: 'go', meaning: 'đi', wordForm: 'verb', englishDefinition: '/əʊ/'),
            Vocabulary(id: 'ipa-2-10', word: 'home', meaning: 'nhà', wordForm: 'noun', englishDefinition: '/əʊ/'),
            Vocabulary(id: 'ipa-2-11', word: 'here', meaning: 'ở đây', wordForm: 'adverb', englishDefinition: '/ɪə/'),
            Vocabulary(id: 'ipa-2-12', word: 'near', meaning: 'gần', wordForm: 'preposition', englishDefinition: '/ɪə/'),
            Vocabulary(id: 'ipa-2-13', word: 'hair', meaning: 'tóc', wordForm: 'noun', englishDefinition: '/eə/'),
            Vocabulary(id: 'ipa-2-14', word: 'care', meaning: 'chăm sóc', wordForm: 'verb', englishDefinition: '/eə/'),
            Vocabulary(id: 'ipa-2-15', word: 'tour', meaning: 'chuyến du lịch', wordForm: 'noun', englishDefinition: '/ʊə/'),
            Vocabulary(id: 'ipa-2-16', word: 'sure', meaning: 'chắc chắn', wordForm: 'adjective', englishDefinition: '/ʊə/'),
          ],
        ),
        Topic(
          id: 'ipa-3',
          name: 'Phụ âm (Consonants)',
          description: '24 phụ âm trong tiếng Anh',
          categoryId: CategoryIds.ipa,
          words: [
            Vocabulary(id: 'ipa-3-1', word: 'pen', meaning: 'bút', wordForm: 'noun', englishDefinition: '/p/'),
            Vocabulary(id: 'ipa-3-2', word: 'bad', meaning: 'xấu', wordForm: 'adjective', englishDefinition: '/b/'),
            Vocabulary(id: 'ipa-3-3', word: 'tea', meaning: 'trà', wordForm: 'noun', englishDefinition: '/t/'),
            Vocabulary(id: 'ipa-3-4', word: 'dog', meaning: 'chó', wordForm: 'noun', englishDefinition: '/d/'),
            Vocabulary(id: 'ipa-3-5', word: 'cat', meaning: 'mèo', wordForm: 'noun', englishDefinition: '/k/'),
            Vocabulary(id: 'ipa-3-6', word: 'go', meaning: 'đi', wordForm: 'verb', englishDefinition: '/g/'),
            Vocabulary(id: 'ipa-3-7', word: 'fan', meaning: 'quạt', wordForm: 'noun', englishDefinition: '/f/'),
            Vocabulary(id: 'ipa-3-8', word: 'van', meaning: 'xe tải', wordForm: 'noun', englishDefinition: '/v/'),
            Vocabulary(id: 'ipa-3-9', word: 'think', meaning: 'nghĩ', wordForm: 'verb', englishDefinition: '/θ/'),
            Vocabulary(id: 'ipa-3-10', word: 'this', meaning: 'cái này', wordForm: 'pronoun', englishDefinition: '/ð/'),
            Vocabulary(id: 'ipa-3-11', word: 'see', meaning: 'nhìn', wordForm: 'verb', englishDefinition: '/s/'),
            Vocabulary(id: 'ipa-3-12', word: 'zoo', meaning: 'sở thú', wordForm: 'noun', englishDefinition: '/z/'),
            Vocabulary(id: 'ipa-3-13', word: 'she', meaning: 'cô ấy', wordForm: 'pronoun', englishDefinition: '/ʃ/'),
            Vocabulary(id: 'ipa-3-14', word: 'vision', meaning: 'tầm nhìn', wordForm: 'noun', englishDefinition: '/ʒ/'),
            Vocabulary(id: 'ipa-3-15', word: 'chair', meaning: 'ghế', wordForm: 'noun', englishDefinition: '/tʃ/'),
            Vocabulary(id: 'ipa-3-16', word: 'job', meaning: 'công việc', wordForm: 'noun', englishDefinition: '/dʒ/'),
            Vocabulary(id: 'ipa-3-17', word: 'man', meaning: 'đàn ông', wordForm: 'noun', englishDefinition: '/m/'),
            Vocabulary(id: 'ipa-3-18', word: 'no', meaning: 'không', wordForm: 'adverb', englishDefinition: '/n/'),
            Vocabulary(id: 'ipa-3-19', word: 'sing', meaning: 'hát', wordForm: 'verb', englishDefinition: '/ŋ/'),
            Vocabulary(id: 'ipa-3-20', word: 'hat', meaning: 'mũ', wordForm: 'noun', englishDefinition: '/h/'),
            Vocabulary(id: 'ipa-3-21', word: 'leg', meaning: 'chân', wordForm: 'noun', englishDefinition: '/l/'),
            Vocabulary(id: 'ipa-3-22', word: 'red', meaning: 'màu đỏ', wordForm: 'adjective', englishDefinition: '/r/'),
            Vocabulary(id: 'ipa-3-23', word: 'yes', meaning: 'có', wordForm: 'adverb', englishDefinition: '/j/'),
            Vocabulary(id: 'ipa-3-24', word: 'wet', meaning: 'ướt', wordForm: 'adjective', englishDefinition: '/w/'),
          ],
        ),
      ];
      
      // Chỉ thêm các topic IPA chưa có
      final ipaTopicsToAdd = ipaTopics.where((t) => !existingIds.contains(t.id)).toList();
      
      // Thêm logic merge cho Idiom & collocations topics
      final idiomTopics = [
        Topic(
          id: 'idiom-1',
          name: 'Thành ngữ thông dụng',
          displayName: 'Thành ngữ\nthông dụng',
          description: 'Các thành ngữ tiếng Anh thường gặp',
          categoryId: CategoryIds.idiom,
          words: [
            Vocabulary(
              id: 'idiom-1-1',
              word: 'break the ice',
              meaning: 'phá tan sự ngượng ngùng, bắt đầu cuộc trò chuyện',
              wordForm: 'idiom',
              englishDefinition: 'to make people feel more relaxed',
            ),
            Vocabulary(
              id: 'idiom-1-2',
              word: 'piece of cake',
              meaning: 'việc dễ dàng',
              wordForm: 'idiom',
              englishDefinition: 'something very easy to do',
            ),
            Vocabulary(
              id: 'idiom-1-3',
              word: 'hit the books',
              meaning: 'học hành chăm chỉ',
              wordForm: 'idiom',
              englishDefinition: 'to study hard',
            ),
            Vocabulary(
              id: 'idiom-1-4',
              word: 'spill the beans',
              meaning: 'tiết lộ bí mật',
              wordForm: 'idiom',
              englishDefinition: 'to reveal a secret',
            ),
            Vocabulary(
              id: 'idiom-1-5',
              word: 'cost an arm and a leg',
              meaning: 'rất đắt tiền',
              wordForm: 'idiom',
              englishDefinition: 'very expensive',
            ),
            Vocabulary(
              id: 'idiom-1-6',
              word: 'under the weather',
              meaning: 'cảm thấy không khỏe',
              wordForm: 'idiom',
              englishDefinition: 'feeling sick or unwell',
            ),
            Vocabulary(
              id: 'idiom-1-7',
              word: 'kill two birds with one stone',
              meaning: 'một mũi tên trúng hai đích',
              wordForm: 'idiom',
              englishDefinition: 'accomplish two things at once',
            ),
            Vocabulary(
              id: 'idiom-1-8',
              word: 'let the cat out of the bag',
              meaning: 'để lộ bí mật',
              wordForm: 'idiom',
              englishDefinition: 'accidentally reveal a secret',
            ),
            Vocabulary(
              id: 'idiom-1-9',
              word: 'when pigs fly',
              meaning: 'không bao giờ xảy ra',
              wordForm: 'idiom',
              englishDefinition: 'something that will never happen',
            ),
            Vocabulary(
              id: 'idiom-1-10',
              word: 'the ball is in your court',
              meaning: 'quyết định thuộc về bạn',
              wordForm: 'idiom',
              englishDefinition: 'it is your turn to take action',
            ),
          ],
        ),
        Topic(
          id: 'idiom-2',
          name: 'Collocations kinh doanh',
          displayName: 'Collocations\nkinh doanh',
          description: 'Các cụm từ thường dùng trong kinh doanh',
          categoryId: CategoryIds.idiom,
          words: [
            Vocabulary(
              id: 'idiom-2-1',
              word: 'make a profit',
              meaning: 'tạo ra lợi nhuận',
              wordForm: 'collocation',
              englishDefinition: 'to earn money from business',
            ),
            Vocabulary(
              id: 'idiom-2-2',
              word: 'close a deal',
              meaning: 'hoàn tất thỏa thuận',
              wordForm: 'collocation',
              englishDefinition: 'to successfully complete a business agreement',
            ),
            Vocabulary(
              id: 'idiom-2-3',
              word: 'launch a product',
              meaning: 'ra mắt sản phẩm',
              wordForm: 'collocation',
              englishDefinition: 'to introduce a new product to the market',
            ),
            Vocabulary(
              id: 'idiom-2-4',
              word: 'meet a deadline',
              meaning: 'hoàn thành đúng hạn',
              wordForm: 'collocation',
              englishDefinition: 'to finish work by the required time',
            ),
            Vocabulary(
              id: 'idiom-2-5',
              word: 'cut costs',
              meaning: 'cắt giảm chi phí',
              wordForm: 'collocation',
              englishDefinition: 'to reduce expenses',
            ),
            Vocabulary(
              id: 'idiom-2-6',
              word: 'boost sales',
              meaning: 'tăng doanh số',
              wordForm: 'collocation',
              englishDefinition: 'to increase the amount of products sold',
            ),
            Vocabulary(
              id: 'idiom-2-7',
              word: 'market share',
              meaning: 'thị phần',
              wordForm: 'collocation',
              englishDefinition: 'percentage of total sales in a market',
            ),
            Vocabulary(
              id: 'idiom-2-8',
              word: 'cash flow',
              meaning: 'dòng tiền',
              wordForm: 'collocation',
              englishDefinition: 'movement of money in and out of business',
            ),
            Vocabulary(
              id: 'idiom-2-9',
              word: 'brand awareness',
              meaning: 'nhận diện thương hiệu',
              wordForm: 'collocation',
              englishDefinition: 'how well customers know a brand',
            ),
            Vocabulary(
              id: 'idiom-2-10',
              word: 'competitive advantage',
              meaning: 'lợi thế cạnh tranh',
              wordForm: 'collocation',
              englishDefinition: 'superior position over competitors',
            ),
          ],
        ),
        Topic(
          id: 'idiom-3',
          name: 'Collocations đời thường',
          displayName: 'Collocations\nđời thường',
          description: 'Các cụm từ thường dùng trong cuộc sống hàng ngày',
          categoryId: CategoryIds.idiom,
          words: [
            Vocabulary(
              id: 'idiom-3-1',
              word: 'make a decision',
              meaning: 'đưa ra quyết định',
              wordForm: 'collocation',
              englishDefinition: 'to choose what to do',
            ),
            Vocabulary(
              id: 'idiom-3-2',
              word: 'take a break',
              meaning: 'nghỉ ngơi',
              wordForm: 'collocation',
              englishDefinition: 'to stop working for a short time',
            ),
            Vocabulary(
              id: 'idiom-3-3',
              word: 'catch a cold',
              meaning: 'bị cảm lạnh',
              wordForm: 'collocation',
              englishDefinition: 'to become sick with a cold',
            ),
            Vocabulary(
              id: 'idiom-3-4',
              word: 'do homework',
              meaning: 'làm bài tập về nhà',
              wordForm: 'collocation',
              englishDefinition: 'to complete school assignments',
            ),
            Vocabulary(
              id: 'idiom-3-5',
              word: 'heavy rain',
              meaning: 'mưa to',
              wordForm: 'collocation',
              englishDefinition: 'intense rainfall',
            ),
            Vocabulary(
              id: 'idiom-3-6',
              word: 'strong wind',
              meaning: 'gió mạnh',
              wordForm: 'collocation',
              englishDefinition: 'powerful wind',
            ),
            Vocabulary(
              id: 'idiom-3-7',
              word: 'bright sunshine',
              meaning: 'nắng chói chang',
              wordForm: 'collocation',
              englishDefinition: 'intense sunlight',
            ),
            Vocabulary(
              id: 'idiom-3-8',
              word: 'fast food',
              meaning: 'thức ăn nhanh',
              wordForm: 'collocation',
              englishDefinition: 'quickly prepared food',
            ),
            Vocabulary(
              id: 'idiom-3-9',
              word: 'save time',
              meaning: 'tiết kiệm thời gian',
              wordForm: 'collocation',
              englishDefinition: 'to use less time',
            ),
            Vocabulary(
              id: 'idiom-3-10',
              word: 'waste money',
              meaning: 'lãng phí tiền',
              wordForm: 'collocation',
              englishDefinition: 'to spend money unnecessarily',
            ),
          ],
        ),
      ];
      
      final idiomTopicsToAdd = idiomTopics.where((t) => !existingIds.contains(t.id)).toList();
      
      // Thêm logic merge cho Grammar topics
      final grammarTopics = [
        Topic(
          id: 'grammar-1',
          name: 'Thì hiện tại đơn',
          displayName: 'Thì hiện tại đơn\n(Present Simple)',
          description: 'Cấu trúc và cách sử dụng thì hiện tại đơn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-1-1',
              word: 'I work every day',
              meaning: 'Tôi làm việc mỗi ngày',
              wordForm: 'sentence',
              englishDefinition: 'S + V(s/es) + O',
            ),
            Vocabulary(
              id: 'grammar-1-2',
              word: 'She doesn\'t like coffee',
              meaning: 'Cô ấy không thích cà phê',
              wordForm: 'sentence',
              englishDefinition: 'S + do/does + not + V',
            ),
            Vocabulary(
              id: 'grammar-1-3',
              word: 'Do you speak English?',
              meaning: 'Bạn có nói tiếng Anh không?',
              wordForm: 'sentence',
              englishDefinition: 'Do/Does + S + V?',
            ),
            Vocabulary(
              id: 'grammar-1-4',
              word: 'always',
              meaning: 'luôn luôn',
              wordForm: 'adverb',
              englishDefinition: 'frequency adverb',
            ),
            Vocabulary(
              id: 'grammar-1-5',
              word: 'usually',
              meaning: 'thường thường',
              wordForm: 'adverb',
              englishDefinition: 'frequency adverb',
            ),
            Vocabulary(
              id: 'grammar-1-6',
              word: 'often',
              meaning: 'thường xuyên',
              wordForm: 'adverb',
              englishDefinition: 'frequency adverb',
            ),
            Vocabulary(
              id: 'grammar-1-7',
              word: 'sometimes',
              meaning: 'đôi khi',
              wordForm: 'adverb',
              englishDefinition: 'frequency adverb',
            ),
            Vocabulary(
              id: 'grammar-1-8',
              word: 'never',
              meaning: 'không bao giờ',
              wordForm: 'adverb',
              englishDefinition: 'frequency adverb',
            ),
          ],
        ),
        Topic(
          id: 'grammar-2',
          name: 'Thì quá khứ đơn',
          displayName: 'Thì quá khứ đơn\n(Past Simple)',
          description: 'Cấu trúc và cách sử dụng thì quá khứ đơn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-2-1',
              word: 'I went to school yesterday',
              meaning: 'Tôi đã đi học hôm qua',
              wordForm: 'sentence',
              englishDefinition: 'S + V2 + O',
            ),
            Vocabulary(
              id: 'grammar-2-2',
              word: 'She didn\'t finish her homework',
              meaning: 'Cô ấy đã không hoàn thành bài tập',
              wordForm: 'sentence',
              englishDefinition: 'S + did + not + V',
            ),
            Vocabulary(
              id: 'grammar-2-3',
              word: 'Did you see him?',
              meaning: 'Bạn có thấy anh ấy không?',
              wordForm: 'sentence',
              englishDefinition: 'Did + S + V?',
            ),
            Vocabulary(
              id: 'grammar-2-4',
              word: 'yesterday',
              meaning: 'hôm qua',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-2-5',
              word: 'last week',
              meaning: 'tuần trước',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-2-6',
              word: 'ago',
              meaning: 'cách đây',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-2-7',
              word: 'was/were',
              meaning: 'thì, là, ở (quá khứ)',
              wordForm: 'verb',
              englishDefinition: 'past form of be',
            ),
            Vocabulary(
              id: 'grammar-2-8',
              word: 'regular verbs',
              meaning: 'động từ có quy tắc',
              wordForm: 'phrase',
              englishDefinition: 'verbs ending in -ed',
            ),
          ],
        ),
        Topic(
          id: 'grammar-3',
          name: 'Thì hiện tại tiếp diễn',
          displayName: 'Thì hiện tại tiếp diễn\n(Present Continuous)',
          description: 'Cấu trúc và cách sử dụng thì hiện tại tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-3-1',
              word: 'I am studying now',
              meaning: 'Tôi đang học bây giờ',
              wordForm: 'sentence',
              englishDefinition: 'S + am/is/are + V-ing',
            ),
            Vocabulary(
              id: 'grammar-3-2',
              word: 'She is not working',
              meaning: 'Cô ấy không đang làm việc',
              wordForm: 'sentence',
              englishDefinition: 'S + am/is/are + not + V-ing',
            ),
            Vocabulary(
              id: 'grammar-3-3',
              word: 'Are you listening?',
              meaning: 'Bạn có đang nghe không?',
              wordForm: 'sentence',
              englishDefinition: 'Am/Is/Are + S + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-3-4',
              word: 'now',
              meaning: 'bây giờ',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-3-5',
              word: 'at the moment',
              meaning: 'ngay lúc này',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-3-6',
              word: 'currently',
              meaning: 'hiện tại',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-3-7',
              word: 'right now',
              meaning: 'ngay bây giờ',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-3-8',
              word: 'V-ing',
              meaning: 'động từ thêm -ing',
              wordForm: 'structure',
              englishDefinition: 'present participle',
            ),
          ],
        ),
        Topic(
          id: 'grammar-4',
          name: 'Thì hiện tại hoàn thành',
          displayName: 'Thì hiện tại hoàn thành\n(Present Perfect)',
          description: 'Cấu trúc và cách sử dụng thì hiện tại hoàn thành',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-4-1',
              word: 'I have finished my homework',
              meaning: 'Tôi đã hoàn thành bài tập',
              wordForm: 'sentence',
              englishDefinition: 'S + have/has + V3',
            ),
            Vocabulary(
              id: 'grammar-4-2',
              word: 'She has not seen him',
              meaning: 'Cô ấy chưa thấy anh ấy',
              wordForm: 'sentence',
              englishDefinition: 'S + have/has + not + V3',
            ),
            Vocabulary(
              id: 'grammar-4-3',
              word: 'Have you been to Paris?',
              meaning: 'Bạn đã từng đến Paris chưa?',
              wordForm: 'sentence',
              englishDefinition: 'Have/Has + S + V3?',
            ),
            Vocabulary(
              id: 'grammar-4-4',
              word: 'already',
              meaning: 'rồi',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-4-5',
              word: 'yet',
              meaning: 'chưa',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-4-6',
              word: 'just',
              meaning: 'vừa mới',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-4-7',
              word: 'ever',
              meaning: 'đã từng',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-4-8',
              word: 'never',
              meaning: 'chưa bao giờ',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-5',
          name: 'Thì hiện tại hoàn thành tiếp diễn',
          displayName: 'Thì hiện tại hoàn thành tiếp diễn\n(Present Perfect Continuous)',
          description: 'Cấu trúc và cách sử dụng thì hiện tại hoàn thành tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-5-1',
              word: 'I have been studying for 2 hours',
              meaning: 'Tôi đã học được 2 giờ',
              wordForm: 'sentence',
              englishDefinition: 'S + have/has + been + V-ing',
            ),
            Vocabulary(
              id: 'grammar-5-2',
              word: 'She has been working since morning',
              meaning: 'Cô ấy đã làm việc từ sáng',
              wordForm: 'sentence',
              englishDefinition: 'S + have/has + been + V-ing + since/for',
            ),
            Vocabulary(
              id: 'grammar-5-3',
              word: 'How long have you been waiting?',
              meaning: 'Bạn đã đợi bao lâu rồi?',
              wordForm: 'sentence',
              englishDefinition: 'How long + have/has + S + been + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-5-4',
              word: 'for',
              meaning: 'trong khoảng (thời gian)',
              wordForm: 'preposition',
              englishDefinition: 'duration marker',
            ),
            Vocabulary(
              id: 'grammar-5-5',
              word: 'since',
              meaning: 'từ khi',
              wordForm: 'preposition',
              englishDefinition: 'starting point marker',
            ),
            Vocabulary(
              id: 'grammar-5-6',
              word: 'all day',
              meaning: 'cả ngày',
              wordForm: 'phrase',
              englishDefinition: 'duration marker',
            ),
            Vocabulary(
              id: 'grammar-5-7',
              word: 'recently',
              meaning: 'gần đây',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-5-8',
              word: 'lately',
              meaning: 'gần đây',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-6',
          name: 'Thì quá khứ tiếp diễn',
          displayName: 'Thì quá khứ tiếp diễn\n(Past Continuous)',
          description: 'Cấu trúc và cách sử dụng thì quá khứ tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-6-1',
              word: 'I was studying when he called',
              meaning: 'Tôi đang học khi anh ấy gọi',
              wordForm: 'sentence',
              englishDefinition: 'S + was/were + V-ing',
            ),
            Vocabulary(
              id: 'grammar-6-2',
              word: 'They were not working',
              meaning: 'Họ không đang làm việc',
              wordForm: 'sentence',
              englishDefinition: 'S + was/were + not + V-ing',
            ),
            Vocabulary(
              id: 'grammar-6-3',
              word: 'Were you sleeping?',
              meaning: 'Bạn có đang ngủ không?',
              wordForm: 'sentence',
              englishDefinition: 'Was/Were + S + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-6-4',
              word: 'while',
              meaning: 'trong khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-6-5',
              word: 'when',
              meaning: 'khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-6-6',
              word: 'at that time',
              meaning: 'vào lúc đó',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-6-7',
              word: 'at 8pm yesterday',
              meaning: 'lúc 8 giờ tối hôm qua',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-6-8',
              word: 'was/were + V-ing',
              meaning: 'đang (quá khứ)',
              wordForm: 'structure',
              englishDefinition: 'past continuous form',
            ),
          ],
        ),
        Topic(
          id: 'grammar-7',
          name: 'Thì quá khứ hoàn thành',
          displayName: 'Thì quá khứ hoàn thành\n(Past Perfect)',
          description: 'Cấu trúc và cách sử dụng thì quá khứ hoàn thành',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-7-1',
              word: 'I had finished before he arrived',
              meaning: 'Tôi đã hoàn thành trước khi anh ấy đến',
              wordForm: 'sentence',
              englishDefinition: 'S + had + V3',
            ),
            Vocabulary(
              id: 'grammar-7-2',
              word: 'She had not seen him',
              meaning: 'Cô ấy chưa thấy anh ấy',
              wordForm: 'sentence',
              englishDefinition: 'S + had + not + V3',
            ),
            Vocabulary(
              id: 'grammar-7-3',
              word: 'Had you eaten?',
              meaning: 'Bạn đã ăn chưa?',
              wordForm: 'sentence',
              englishDefinition: 'Had + S + V3?',
            ),
            Vocabulary(
              id: 'grammar-7-4',
              word: 'before',
              meaning: 'trước khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-7-5',
              word: 'after',
              meaning: 'sau khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-7-6',
              word: 'by the time',
              meaning: 'đến lúc',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-7-7',
              word: 'already',
              meaning: 'đã rồi',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-7-8',
              word: 'had + V3',
              meaning: 'đã (quá khứ hoàn thành)',
              wordForm: 'structure',
              englishDefinition: 'past perfect form',
            ),
          ],
        ),
        Topic(
          id: 'grammar-8',
          name: 'Thì quá khứ hoàn thành tiếp diễn',
          displayName: 'Thì quá khứ hoàn thành tiếp diễn\n(Past Perfect Continuous)',
          description: 'Cấu trúc và cách sử dụng thì quá khứ hoàn thành tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-8-1',
              word: 'I had been studying for 3 hours',
              meaning: 'Tôi đã học được 3 giờ',
              wordForm: 'sentence',
              englishDefinition: 'S + had + been + V-ing',
            ),
            Vocabulary(
              id: 'grammar-8-2',
              word: 'She had been working since morning',
              meaning: 'Cô ấy đã làm việc từ sáng',
              wordForm: 'sentence',
              englishDefinition: 'S + had + been + V-ing + since/for',
            ),
            Vocabulary(
              id: 'grammar-8-3',
              word: 'How long had you been waiting?',
              meaning: 'Bạn đã đợi bao lâu rồi?',
              wordForm: 'sentence',
              englishDefinition: 'How long + had + S + been + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-8-4',
              word: 'for',
              meaning: 'trong khoảng (thời gian)',
              wordForm: 'preposition',
              englishDefinition: 'duration marker',
            ),
            Vocabulary(
              id: 'grammar-8-5',
              word: 'since',
              meaning: 'từ khi',
              wordForm: 'preposition',
              englishDefinition: 'starting point marker',
            ),
            Vocabulary(
              id: 'grammar-8-6',
              word: 'all morning',
              meaning: 'cả buổi sáng',
              wordForm: 'phrase',
              englishDefinition: 'duration marker',
            ),
            Vocabulary(
              id: 'grammar-8-7',
              word: 'until',
              meaning: 'cho đến khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-8-8',
              word: 'had been + V-ing',
              meaning: 'đã đang (quá khứ hoàn thành tiếp diễn)',
              wordForm: 'structure',
              englishDefinition: 'past perfect continuous form',
            ),
          ],
        ),
        Topic(
          id: 'grammar-9',
          name: 'Thì tương lai đơn',
          displayName: 'Thì tương lai đơn\n(Future Simple)',
          description: 'Cấu trúc và cách sử dụng thì tương lai đơn với will',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-9-1',
              word: 'I will call you tomorrow',
              meaning: 'Tôi sẽ gọi bạn ngày mai',
              wordForm: 'sentence',
              englishDefinition: 'S + will + V',
            ),
            Vocabulary(
              id: 'grammar-9-2',
              word: 'She will not come',
              meaning: 'Cô ấy sẽ không đến',
              wordForm: 'sentence',
              englishDefinition: 'S + will + not + V',
            ),
            Vocabulary(
              id: 'grammar-9-3',
              word: 'Will you help me?',
              meaning: 'Bạn sẽ giúp tôi chứ?',
              wordForm: 'sentence',
              englishDefinition: 'Will + S + V?',
            ),
            Vocabulary(
              id: 'grammar-9-4',
              word: 'will',
              meaning: 'sẽ',
              wordForm: 'modal verb',
              englishDefinition: 'future intention',
            ),
            Vocabulary(
              id: 'grammar-9-5',
              word: 'tomorrow',
              meaning: 'ngày mai',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-9-6',
              word: 'next week',
              meaning: 'tuần tới',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-9-7',
              word: 'soon',
              meaning: 'sớm thôi',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-9-8',
              word: 'in the future',
              meaning: 'trong tương lai',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-10',
          name: 'Thì tương lai tiếp diễn',
          displayName: 'Thì tương lai tiếp diễn\n(Future Continuous)',
          description: 'Cấu trúc và cách sử dụng thì tương lai tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-10-1',
              word: 'I will be studying at 8pm',
              meaning: 'Tôi sẽ đang học lúc 8 giờ tối',
              wordForm: 'sentence',
              englishDefinition: 'S + will + be + V-ing',
            ),
            Vocabulary(
              id: 'grammar-10-2',
              word: 'She will not be working',
              meaning: 'Cô ấy sẽ không đang làm việc',
              wordForm: 'sentence',
              englishDefinition: 'S + will + not + be + V-ing',
            ),
            Vocabulary(
              id: 'grammar-10-3',
              word: 'Will you be waiting?',
              meaning: 'Bạn sẽ đang đợi chứ?',
              wordForm: 'sentence',
              englishDefinition: 'Will + S + be + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-10-4',
              word: 'at this time tomorrow',
              meaning: 'vào giờ này ngày mai',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-10-5',
              word: 'at 9am next Monday',
              meaning: 'lúc 9 giờ sáng thứ Hai tới',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-10-6',
              word: 'will be + V-ing',
              meaning: 'sẽ đang',
              wordForm: 'structure',
              englishDefinition: 'future continuous form',
            ),
            Vocabulary(
              id: 'grammar-10-7',
              word: 'when',
              meaning: 'khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-10-8',
              word: 'while',
              meaning: 'trong khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-11',
          name: 'Thì tương lai hoàn thành',
          displayName: 'Thì tương lai hoàn thành\n(Future Perfect)',
          description: 'Cấu trúc và cách sử dụng thì tương lai hoàn thành',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-11-1',
              word: 'I will have finished by 5pm',
              meaning: 'Tôi sẽ hoàn thành trước 5 giờ',
              wordForm: 'sentence',
              englishDefinition: 'S + will + have + V3',
            ),
            Vocabulary(
              id: 'grammar-11-2',
              word: 'She will have arrived',
              meaning: 'Cô ấy sẽ đã đến',
              wordForm: 'sentence',
              englishDefinition: 'S + will + have + V3',
            ),
            Vocabulary(
              id: 'grammar-11-3',
              word: 'Will you have finished?',
              meaning: 'Bạn sẽ hoàn thành chưa?',
              wordForm: 'sentence',
              englishDefinition: 'Will + S + have + V3?',
            ),
            Vocabulary(
              id: 'grammar-11-4',
              word: 'by',
              meaning: 'trước',
              wordForm: 'preposition',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-11-5',
              word: 'by the time',
              meaning: 'đến lúc',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-11-6',
              word: 'by tomorrow',
              meaning: 'trước ngày mai',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-11-7',
              word: 'will have + V3',
              meaning: 'sẽ đã',
              wordForm: 'structure',
              englishDefinition: 'future perfect form',
            ),
            Vocabulary(
              id: 'grammar-11-8',
              word: 'before',
              meaning: 'trước khi',
              wordForm: 'conjunction',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-12',
          name: 'Thì tương lai hoàn thành tiếp diễn',
          displayName: 'Thì tương lai hoàn thành tiếp diễn\n(Future Perfect Continuous)',
          description: 'Cấu trúc và cách sử dụng thì tương lai hoàn thành tiếp diễn',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-12-1',
              word: 'I will have been studying for 3 hours',
              meaning: 'Tôi sẽ đã học được 3 giờ',
              wordForm: 'sentence',
              englishDefinition: 'S + will + have + been + V-ing',
            ),
            Vocabulary(
              id: 'grammar-12-2',
              word: 'She will have been working',
              meaning: 'Cô ấy sẽ đã đang làm việc',
              wordForm: 'sentence',
              englishDefinition: 'S + will + have + been + V-ing',
            ),
            Vocabulary(
              id: 'grammar-12-3',
              word: 'How long will you have been waiting?',
              meaning: 'Bạn sẽ đã đợi bao lâu?',
              wordForm: 'sentence',
              englishDefinition: 'How long + will + S + have + been + V-ing?',
            ),
            Vocabulary(
              id: 'grammar-12-4',
              word: 'for',
              meaning: 'trong khoảng (thời gian)',
              wordForm: 'preposition',
              englishDefinition: 'duration marker',
            ),
            Vocabulary(
              id: 'grammar-12-5',
              word: 'by the time',
              meaning: 'đến lúc',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-12-6',
              word: 'will have been + V-ing',
              meaning: 'sẽ đã đang',
              wordForm: 'structure',
              englishDefinition: 'future perfect continuous form',
            ),
            Vocabulary(
              id: 'grammar-12-7',
              word: 'by next month',
              meaning: 'trước tháng tới',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-12-8',
              word: 'for 2 hours by then',
              meaning: 'được 2 giờ đến lúc đó',
              wordForm: 'phrase',
              englishDefinition: 'duration marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-13',
          name: 'Thì tương lai gần',
          displayName: 'Thì tương lai gần\n(Going to)',
          description: 'Cấu trúc và cách sử dụng thì tương lai gần với going to',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-13-1',
              word: 'I am going to study',
              meaning: 'Tôi sẽ học',
              wordForm: 'sentence',
              englishDefinition: 'S + am/is/are + going to + V',
            ),
            Vocabulary(
              id: 'grammar-13-2',
              word: 'She is not going to come',
              meaning: 'Cô ấy sẽ không đến',
              wordForm: 'sentence',
              englishDefinition: 'S + am/is/are + not + going to + V',
            ),
            Vocabulary(
              id: 'grammar-13-3',
              word: 'Are you going to leave?',
              meaning: 'Bạn sẽ rời đi chứ?',
              wordForm: 'sentence',
              englishDefinition: 'Am/Is/Are + S + going to + V?',
            ),
            Vocabulary(
              id: 'grammar-13-4',
              word: 'going to',
              meaning: 'sẽ (có kế hoạch)',
              wordForm: 'phrase',
              englishDefinition: 'planned future',
            ),
            Vocabulary(
              id: 'grammar-13-5',
              word: 'plan to',
              meaning: 'dự định',
              wordForm: 'phrase',
              englishDefinition: 'intention',
            ),
            Vocabulary(
              id: 'grammar-13-6',
              word: 'intend to',
              meaning: 'có ý định',
              wordForm: 'phrase',
              englishDefinition: 'intention',
            ),
            Vocabulary(
              id: 'grammar-13-7',
              word: 'tomorrow',
              meaning: 'ngày mai',
              wordForm: 'adverb',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-13-8',
              word: 'next week',
              meaning: 'tuần tới',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
          ],
        ),
        Topic(
          id: 'grammar-14',
          name: 'Thì quá khứ tương lai',
          displayName: 'Thì quá khứ tương lai\n(Past Future)',
          description: 'Cấu trúc và cách sử dụng thì quá khứ tương lai với would',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-14-1',
              word: 'I said I would help',
              meaning: 'Tôi nói tôi sẽ giúp',
              wordForm: 'sentence',
              englishDefinition: 'S + would + V',
            ),
            Vocabulary(
              id: 'grammar-14-2',
              word: 'She would not come',
              meaning: 'Cô ấy sẽ không đến',
              wordForm: 'sentence',
              englishDefinition: 'S + would + not + V',
            ),
            Vocabulary(
              id: 'grammar-14-3',
              word: 'Would you help me?',
              meaning: 'Bạn sẽ giúp tôi chứ?',
              wordForm: 'sentence',
              englishDefinition: 'Would + S + V?',
            ),
            Vocabulary(
              id: 'grammar-14-4',
              word: 'would',
              meaning: 'sẽ (quá khứ)',
              wordForm: 'modal verb',
              englishDefinition: 'past future',
            ),
            Vocabulary(
              id: 'grammar-14-5',
              word: 'was/were going to',
              meaning: 'sẽ (quá khứ, có kế hoạch)',
              wordForm: 'phrase',
              englishDefinition: 'past planned future',
            ),
            Vocabulary(
              id: 'grammar-14-6',
              word: 'the next day',
              meaning: 'ngày hôm sau',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-14-7',
              word: 'the following week',
              meaning: 'tuần sau đó',
              wordForm: 'phrase',
              englishDefinition: 'time marker',
            ),
            Vocabulary(
              id: 'grammar-14-8',
              word: 'would have + V3',
              meaning: 'sẽ đã (quá khứ hoàn thành)',
              wordForm: 'structure',
              englishDefinition: 'past future perfect',
            ),
          ],
        ),
        Topic(
          id: 'grammar-15',
          name: 'Động từ khuyết thiếu',
          displayName: 'Động từ khuyết thiếu\n(Modal Verbs)',
          description: 'Các động từ khuyết thiếu và cách sử dụng',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-4-1',
              word: 'can',
              meaning: 'có thể',
              wordForm: 'modal verb',
              englishDefinition: 'ability/permission',
            ),
            Vocabulary(
              id: 'grammar-4-2',
              word: 'could',
              meaning: 'có thể (quá khứ/lịch sự)',
              wordForm: 'modal verb',
              englishDefinition: 'past ability/polite request',
            ),
            Vocabulary(
              id: 'grammar-4-3',
              word: 'should',
              meaning: 'nên',
              wordForm: 'modal verb',
              englishDefinition: 'advice/recommendation',
            ),
            Vocabulary(
              id: 'grammar-4-4',
              word: 'must',
              meaning: 'phải',
              wordForm: 'modal verb',
              englishDefinition: 'obligation/necessity',
            ),
            Vocabulary(
              id: 'grammar-4-5',
              word: 'may',
              meaning: 'có thể',
              wordForm: 'modal verb',
              englishDefinition: 'possibility/permission',
            ),
            Vocabulary(
              id: 'grammar-4-6',
              word: 'might',
              meaning: 'có thể (ít chắc chắn)',
              wordForm: 'modal verb',
              englishDefinition: 'less certain possibility',
            ),
            Vocabulary(
              id: 'grammar-4-7',
              word: 'have to',
              meaning: 'phải',
              wordForm: 'phrase',
              englishDefinition: 'external obligation',
            ),
            Vocabulary(
              id: 'grammar-4-8',
              word: 'ought to',
              meaning: 'nên',
              wordForm: 'phrase',
              englishDefinition: 'moral obligation',
            ),
          ],
        ),
        Topic(
          id: 'grammar-16',
          name: 'Câu điều kiện',
          displayName: 'Câu điều kiện\n(Conditionals)',
          description: 'Các loại câu điều kiện trong tiếng Anh',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-5-1',
              word: 'If it rains, I will stay home',
              meaning: 'Nếu trời mưa, tôi sẽ ở nhà',
              wordForm: 'sentence',
              englishDefinition: 'Type 1: If + present, will + V',
            ),
            Vocabulary(
              id: 'grammar-5-2',
              word: 'If I were rich, I would travel',
              meaning: 'Nếu tôi giàu, tôi sẽ đi du lịch',
              wordForm: 'sentence',
              englishDefinition: 'Type 2: If + past, would + V',
            ),
            Vocabulary(
              id: 'grammar-5-3',
              word: 'If I had studied, I would have passed',
              meaning: 'Nếu tôi đã học, tôi đã đậu',
              wordForm: 'sentence',
              englishDefinition: 'Type 3: If + past perfect, would have + V3',
            ),
            Vocabulary(
              id: 'grammar-5-4',
              word: 'unless',
              meaning: 'trừ khi',
              wordForm: 'conjunction',
              englishDefinition: 'if not',
            ),
            Vocabulary(
              id: 'grammar-5-5',
              word: 'provided that',
              meaning: 'miễn là',
              wordForm: 'phrase',
              englishDefinition: 'on condition that',
            ),
            Vocabulary(
              id: 'grammar-5-6',
              word: 'as long as',
              meaning: 'miễn là',
              wordForm: 'phrase',
              englishDefinition: 'on condition that',
            ),
            Vocabulary(
              id: 'grammar-5-7',
              word: 'in case',
              meaning: 'phòng khi',
              wordForm: 'phrase',
              englishDefinition: 'as a precaution',
            ),
            Vocabulary(
              id: 'grammar-5-8',
              word: 'wish',
              meaning: 'ước',
              wordForm: 'verb',
              englishDefinition: 'unreal condition',
            ),
          ],
        ),
        Topic(
          id: 'grammar-17',
          name: 'Câu bị động',
          displayName: 'Câu bị động\n(Passive Voice)',
          description: 'Cấu trúc và cách sử dụng câu bị động',
          categoryId: CategoryIds.grammar,
          words: [
            Vocabulary(
              id: 'grammar-6-1',
              word: 'The book is written by him',
              meaning: 'Cuốn sách được viết bởi anh ấy',
              wordForm: 'sentence',
              englishDefinition: 'S + be + V3 + by + O',
            ),
            Vocabulary(
              id: 'grammar-6-2',
              word: 'The house was built last year',
              meaning: 'Ngôi nhà được xây năm ngoái',
              wordForm: 'sentence',
              englishDefinition: 'S + was/were + V3',
            ),
            Vocabulary(
              id: 'grammar-6-3',
              word: 'The car will be repaired',
              meaning: 'Chiếc xe sẽ được sửa',
              wordForm: 'sentence',
              englishDefinition: 'S + will be + V3',
            ),
            Vocabulary(
              id: 'grammar-6-4',
              word: 'by',
              meaning: 'bởi',
              wordForm: 'preposition',
              englishDefinition: 'passive agent marker',
            ),
            Vocabulary(
              id: 'grammar-6-5',
              word: 'be + past participle',
              meaning: 'được + động từ quá khứ phân từ',
              wordForm: 'structure',
              englishDefinition: 'passive form',
            ),
            Vocabulary(
              id: 'grammar-6-6',
              word: 'get + past participle',
              meaning: 'được + động từ quá khứ phân từ',
              wordForm: 'structure',
              englishDefinition: 'informal passive',
            ),
            Vocabulary(
              id: 'grammar-6-7',
              word: 'active voice',
              meaning: 'câu chủ động',
              wordForm: 'phrase',
              englishDefinition: 'subject does action',
            ),
            Vocabulary(
              id: 'grammar-6-8',
              word: 'passive voice',
              meaning: 'câu bị động',
              wordForm: 'phrase',
              englishDefinition: 'subject receives action',
            ),
          ],
        ),
      ];
      
      final grammarTopicsToAdd = grammarTopics.where((t) => !existingIds.contains(t.id)).toList();
      
      final allTopicsToAdd = [...ipaTopicsToAdd, ...idiomTopicsToAdd, ...grammarTopicsToAdd];
      if (allTopicsToAdd.isNotEmpty) {
        final mergedTopics = [...topics, ...allTopicsToAdd];
        await saveTopics(mergedTopics);
      }
      return;
    }

    if (!needSeed && topics.isNotEmpty) return;

    final demoTopics = [
      Topic(
        id: 'demo-1',
        name: 'Gia đình',
        description: 'Từ vựng về gia đình',
        categoryId: CategoryIds.topic,
        words: [
          Vocabulary(
            id: 'w1',
            word: 'family',
            meaning: 'gia đình',
            wordForm: 'noun',
            englishDefinition: 'a group of people related by blood or marriage',
            synonym: 'household',
            antonym: '',
          ),
          Vocabulary(
            id: 'w2',
            word: 'parents',
            meaning: 'cha mẹ',
            wordForm: 'noun',
            synonym: 'father and mother',
            antonym: 'children',
          ),
          Vocabulary(
            id: 'w3',
            word: 'sibling',
            meaning: 'anh chị em ruột',
            wordForm: 'noun',
            synonym: 'brother or sister',
            antonym: '',
          ),
          Vocabulary(
            id: 'w1-4',
            word: 'father',
            meaning: 'cha, bố',
            wordForm: 'noun',
            englishDefinition: 'a male parent',
            synonym: 'dad',
            antonym: 'mother',
          ),
          Vocabulary(
            id: 'w1-5',
            word: 'mother',
            meaning: 'mẹ',
            wordForm: 'noun',
            englishDefinition: 'a female parent',
            synonym: 'mom',
            antonym: 'father',
          ),
          Vocabulary(
            id: 'w1-6',
            word: 'brother',
            meaning: 'anh trai, em trai',
            wordForm: 'noun',
            synonym: 'sibling',
            antonym: 'sister',
          ),
          Vocabulary(
            id: 'w1-7',
            word: 'sister',
            meaning: 'chị gái, em gái',
            wordForm: 'noun',
            synonym: 'sibling',
            antonym: 'brother',
          ),
          Vocabulary(
            id: 'w1-8',
            word: 'son',
            meaning: 'con trai',
            wordForm: 'noun',
            antonym: 'daughter',
          ),
          Vocabulary(
            id: 'w1-9',
            word: 'daughter',
            meaning: 'con gái',
            wordForm: 'noun',
            antonym: 'son',
          ),
          Vocabulary(
            id: 'w1-10',
            word: 'grandfather',
            meaning: 'ông',
            wordForm: 'noun',
            synonym: 'grandpa',
            antonym: 'grandmother',
          ),
          Vocabulary(
            id: 'w1-11',
            word: 'grandmother',
            meaning: 'bà',
            wordForm: 'noun',
            synonym: 'grandma',
            antonym: 'grandfather',
          ),
          Vocabulary(
            id: 'w1-12',
            word: 'uncle',
            meaning: 'chú, bác, cậu',
            wordForm: 'noun',
            antonym: 'aunt',
          ),
          Vocabulary(
            id: 'w1-13',
            word: 'aunt',
            meaning: 'cô, dì, bác gái',
            wordForm: 'noun',
            antonym: 'uncle',
          ),
          Vocabulary(
            id: 'w1-14',
            word: 'cousin',
            meaning: 'anh chị em họ',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-15',
            word: 'nephew',
            meaning: 'cháu trai',
            wordForm: 'noun',
            antonym: 'niece',
          ),
          Vocabulary(
            id: 'w1-16',
            word: 'niece',
            meaning: 'cháu gái',
            wordForm: 'noun',
            antonym: 'nephew',
          ),
          Vocabulary(
            id: 'w1-17',
            word: 'husband',
            meaning: 'chồng',
            wordForm: 'noun',
            antonym: 'wife',
          ),
          Vocabulary(
            id: 'w1-18',
            word: 'wife',
            meaning: 'vợ',
            wordForm: 'noun',
            antonym: 'husband',
          ),
          Vocabulary(
            id: 'w1-19',
            word: 'relative',
            meaning: 'họ hàng',
            wordForm: 'noun',
            englishDefinition: 'a person connected by blood or marriage',
            synonym: 'family member',
          ),
          Vocabulary(
            id: 'w1-20',
            word: 'generation',
            meaning: 'thế hệ',
            wordForm: 'noun',
            englishDefinition: 'all people born around the same time',
          ),
          Vocabulary(
            id: 'w1-21',
            word: 'grandson',
            meaning: 'cháu trai (con của con)',
            wordForm: 'noun',
            antonym: 'granddaughter',
          ),
          Vocabulary(
            id: 'w1-22',
            word: 'granddaughter',
            meaning: 'cháu gái (con của con)',
            wordForm: 'noun',
            antonym: 'grandson',
          ),
          Vocabulary(
            id: 'w1-23',
            word: 'father-in-law',
            meaning: 'bố chồng/vợ',
            wordForm: 'noun',
            antonym: 'mother-in-law',
          ),
          Vocabulary(
            id: 'w1-24',
            word: 'mother-in-law',
            meaning: 'mẹ chồng/vợ',
            wordForm: 'noun',
            antonym: 'father-in-law',
          ),
          Vocabulary(
            id: 'w1-25',
            word: 'son-in-law',
            meaning: 'con rể',
            wordForm: 'noun',
            antonym: 'daughter-in-law',
          ),
          Vocabulary(
            id: 'w1-26',
            word: 'daughter-in-law',
            meaning: 'con dâu',
            wordForm: 'noun',
            antonym: 'son-in-law',
          ),
          Vocabulary(
            id: 'w1-27',
            word: 'stepfather',
            meaning: 'bố dượng',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-28',
            word: 'stepmother',
            meaning: 'mẹ kế',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-29',
            word: 'stepbrother',
            meaning: 'anh/em trai cùng cha/mẹ khác mẹ/cha',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-30',
            word: 'stepsister',
            meaning: 'chị/em gái cùng cha/mẹ khác mẹ/cha',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-31',
            word: 'twin',
            meaning: 'sinh đôi',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-32',
            word: 'ancestor',
            meaning: 'tổ tiên',
            wordForm: 'noun',
            antonym: 'descendant',
          ),
          Vocabulary(
            id: 'w1-33',
            word: 'descendant',
            meaning: 'hậu duệ, con cháu',
            wordForm: 'noun',
            antonym: 'ancestor',
          ),
          Vocabulary(
            id: 'w1-34',
            word: 'household',
            meaning: 'hộ gia đình',
            wordForm: 'noun',
            synonym: 'family',
          ),
          Vocabulary(
            id: 'w1-35',
            word: 'inheritance',
            meaning: 'tài sản thừa kế',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-36',
            word: 'marriage',
            meaning: 'hôn nhân',
            wordForm: 'noun',
            antonym: 'divorce',
          ),
          Vocabulary(
            id: 'w1-37',
            word: 'divorce',
            meaning: 'ly hôn',
            wordForm: 'noun',
            antonym: 'marriage',
          ),
          Vocabulary(
            id: 'w1-38',
            word: 'wedding',
            meaning: 'đám cưới',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-39',
            word: 'reunion',
            meaning: 'sum họp gia đình',
            wordForm: 'noun',
          ),
          Vocabulary(
            id: 'w1-40',
            word: 'birth',
            meaning: 'sự sinh ra',
            wordForm: 'noun',
            antonym: 'death',
          ),
        ],
      ),
      Topic(
        id: 'demo-2',
        name: 'Công việc',
        description: 'Từ vựng về công việc',
        categoryId: CategoryIds.topic,
        words: [
          Vocabulary(
            id: 'w4',
            word: 'career',
            meaning: 'sự nghiệp',
            wordForm: 'noun',
            synonym: 'profession',
            antonym: '',
          ),
          Vocabulary(
            id: 'w5',
            word: 'colleague',
            meaning: 'đồng nghiệp',
            wordForm: 'noun',
            synonym: 'coworker',
            antonym: 'boss',
          ),
        ],
      ),
      // Topic IPA: Nguyên âm đơn (Monophthongs)
      Topic(
        id: 'ipa-1',
        name: 'Nguyên âm đơn (Monophthongs)',
        description: '12 nguyên âm đơn trong tiếng Anh',
        categoryId: CategoryIds.ipa,
        words: [
          Vocabulary(id: 'ipa-1-1', word: 'see', meaning: 'nhìn', wordForm: 'verb', englishDefinition: '/iː/'),
          Vocabulary(id: 'ipa-1-2', word: 'sheep', meaning: 'cừu', wordForm: 'noun', englishDefinition: '/iː/'),
          Vocabulary(id: 'ipa-1-3', word: 'sit', meaning: 'ngồi', wordForm: 'verb', englishDefinition: '/ɪ/'),
          Vocabulary(id: 'ipa-1-4', word: 'ship', meaning: 'tàu', wordForm: 'noun', englishDefinition: '/ɪ/'),
          Vocabulary(id: 'ipa-1-5', word: 'bed', meaning: 'giường', wordForm: 'noun', englishDefinition: '/e/'),
          Vocabulary(id: 'ipa-1-6', word: 'pen', meaning: 'bút', wordForm: 'noun', englishDefinition: '/e/'),
          Vocabulary(id: 'ipa-1-7', word: 'cat', meaning: 'mèo', wordForm: 'noun', englishDefinition: '/æ/'),
          Vocabulary(id: 'ipa-1-8', word: 'map', meaning: 'bản đồ', wordForm: 'noun', englishDefinition: '/æ/'),
          Vocabulary(id: 'ipa-1-9', word: 'cup', meaning: 'cốc', wordForm: 'noun', englishDefinition: '/ʌ/'),
          Vocabulary(id: 'ipa-1-10', word: 'love', meaning: 'yêu', wordForm: 'verb', englishDefinition: '/ʌ/'),
          Vocabulary(id: 'ipa-1-11', word: 'car', meaning: 'xe hơi', wordForm: 'noun', englishDefinition: '/ɑː/'),
          Vocabulary(id: 'ipa-1-12', word: 'father', meaning: 'cha', wordForm: 'noun', englishDefinition: '/ɑː/'),
          Vocabulary(id: 'ipa-1-13', word: 'hot', meaning: 'nóng', wordForm: 'adjective', englishDefinition: '/ɒ/'),
          Vocabulary(id: 'ipa-1-14', word: 'box', meaning: 'hộp', wordForm: 'noun', englishDefinition: '/ɒ/'),
          Vocabulary(id: 'ipa-1-15', word: 'law', meaning: 'luật', wordForm: 'noun', englishDefinition: '/ɔː/'),
          Vocabulary(id: 'ipa-1-16', word: 'talk', meaning: 'nói chuyện', wordForm: 'verb', englishDefinition: '/ɔː/'),
          Vocabulary(id: 'ipa-1-17', word: 'put', meaning: 'đặt', wordForm: 'verb', englishDefinition: '/ʊ/'),
          Vocabulary(id: 'ipa-1-18', word: 'book', meaning: 'sách', wordForm: 'noun', englishDefinition: '/ʊ/'),
          Vocabulary(id: 'ipa-1-19', word: 'blue', meaning: 'màu xanh', wordForm: 'adjective', englishDefinition: '/uː/'),
          Vocabulary(id: 'ipa-1-20', word: 'food', meaning: 'thức ăn', wordForm: 'noun', englishDefinition: '/uː/'),
          Vocabulary(id: 'ipa-1-21', word: 'bird', meaning: 'chim', wordForm: 'noun', englishDefinition: '/ɜː/'),
          Vocabulary(id: 'ipa-1-22', word: 'girl', meaning: 'cô gái', wordForm: 'noun', englishDefinition: '/ɜː/'),
          Vocabulary(id: 'ipa-1-23', word: 'about', meaning: 'về', wordForm: 'preposition', englishDefinition: '/ə/'),
          Vocabulary(id: 'ipa-1-24', word: 'ago', meaning: 'trước đây', wordForm: 'adverb', englishDefinition: '/ə/'),
        ],
      ),
      // Topic IPA: Nguyên âm đôi (Diphthongs)
      Topic(
        id: 'ipa-2',
        name: 'Nguyên âm đôi (Diphthongs)',
        description: '8 nguyên âm đôi trong tiếng Anh',
        categoryId: CategoryIds.ipa,
        words: [
          Vocabulary(id: 'ipa-2-1', word: 'say', meaning: 'nói', wordForm: 'verb', englishDefinition: '/eɪ/'),
          Vocabulary(id: 'ipa-2-2', word: 'make', meaning: 'làm', wordForm: 'verb', englishDefinition: '/eɪ/'),
          Vocabulary(id: 'ipa-2-3', word: 'my', meaning: 'của tôi', wordForm: 'pronoun', englishDefinition: '/aɪ/'),
          Vocabulary(id: 'ipa-2-4', word: 'time', meaning: 'thời gian', wordForm: 'noun', englishDefinition: '/aɪ/'),
          Vocabulary(id: 'ipa-2-5', word: 'boy', meaning: 'cậu bé', wordForm: 'noun', englishDefinition: '/ɔɪ/'),
          Vocabulary(id: 'ipa-2-6', word: 'choice', meaning: 'lựa chọn', wordForm: 'noun', englishDefinition: '/ɔɪ/'),
          Vocabulary(id: 'ipa-2-7', word: 'now', meaning: 'bây giờ', wordForm: 'adverb', englishDefinition: '/aʊ/'),
          Vocabulary(id: 'ipa-2-8', word: 'house', meaning: 'nhà', wordForm: 'noun', englishDefinition: '/aʊ/'),
          Vocabulary(id: 'ipa-2-9', word: 'go', meaning: 'đi', wordForm: 'verb', englishDefinition: '/əʊ/'),
          Vocabulary(id: 'ipa-2-10', word: 'home', meaning: 'nhà', wordForm: 'noun', englishDefinition: '/əʊ/'),
          Vocabulary(id: 'ipa-2-11', word: 'here', meaning: 'ở đây', wordForm: 'adverb', englishDefinition: '/ɪə/'),
          Vocabulary(id: 'ipa-2-12', word: 'near', meaning: 'gần', wordForm: 'preposition', englishDefinition: '/ɪə/'),
          Vocabulary(id: 'ipa-2-13', word: 'hair', meaning: 'tóc', wordForm: 'noun', englishDefinition: '/eə/'),
          Vocabulary(id: 'ipa-2-14', word: 'care', meaning: 'chăm sóc', wordForm: 'verb', englishDefinition: '/eə/'),
          Vocabulary(id: 'ipa-2-15', word: 'tour', meaning: 'chuyến du lịch', wordForm: 'noun', englishDefinition: '/ʊə/'),
          Vocabulary(id: 'ipa-2-16', word: 'sure', meaning: 'chắc chắn', wordForm: 'adjective', englishDefinition: '/ʊə/'),
        ],
      ),
      // Topic IPA: Phụ âm (Consonants)
      Topic(
        id: 'ipa-3',
        name: 'Phụ âm (Consonants)',
        description: '24 phụ âm trong tiếng Anh',
        categoryId: CategoryIds.ipa,
        words: [
          Vocabulary(id: 'ipa-3-1', word: 'pen', meaning: 'bút', wordForm: 'noun', englishDefinition: '/p/'),
          Vocabulary(id: 'ipa-3-2', word: 'bad', meaning: 'xấu', wordForm: 'adjective', englishDefinition: '/b/'),
          Vocabulary(id: 'ipa-3-3', word: 'tea', meaning: 'trà', wordForm: 'noun', englishDefinition: '/t/'),
          Vocabulary(id: 'ipa-3-4', word: 'dog', meaning: 'chó', wordForm: 'noun', englishDefinition: '/d/'),
          Vocabulary(id: 'ipa-3-5', word: 'cat', meaning: 'mèo', wordForm: 'noun', englishDefinition: '/k/'),
          Vocabulary(id: 'ipa-3-6', word: 'go', meaning: 'đi', wordForm: 'verb', englishDefinition: '/g/'),
          Vocabulary(id: 'ipa-3-7', word: 'fan', meaning: 'quạt', wordForm: 'noun', englishDefinition: '/f/'),
          Vocabulary(id: 'ipa-3-8', word: 'van', meaning: 'xe tải', wordForm: 'noun', englishDefinition: '/v/'),
          Vocabulary(id: 'ipa-3-9', word: 'think', meaning: 'nghĩ', wordForm: 'verb', englishDefinition: '/θ/'),
          Vocabulary(id: 'ipa-3-10', word: 'this', meaning: 'cái này', wordForm: 'pronoun', englishDefinition: '/ð/'),
          Vocabulary(id: 'ipa-3-11', word: 'see', meaning: 'nhìn', wordForm: 'verb', englishDefinition: '/s/'),
          Vocabulary(id: 'ipa-3-12', word: 'zoo', meaning: 'sở thú', wordForm: 'noun', englishDefinition: '/z/'),
          Vocabulary(id: 'ipa-3-13', word: 'she', meaning: 'cô ấy', wordForm: 'pronoun', englishDefinition: '/ʃ/'),
          Vocabulary(id: 'ipa-3-14', word: 'vision', meaning: 'tầm nhìn', wordForm: 'noun', englishDefinition: '/ʒ/'),
          Vocabulary(id: 'ipa-3-15', word: 'chair', meaning: 'ghế', wordForm: 'noun', englishDefinition: '/tʃ/'),
          Vocabulary(id: 'ipa-3-16', word: 'job', meaning: 'công việc', wordForm: 'noun', englishDefinition: '/dʒ/'),
          Vocabulary(id: 'ipa-3-17', word: 'man', meaning: 'đàn ông', wordForm: 'noun', englishDefinition: '/m/'),
          Vocabulary(id: 'ipa-3-18', word: 'no', meaning: 'không', wordForm: 'adverb', englishDefinition: '/n/'),
          Vocabulary(id: 'ipa-3-19', word: 'sing', meaning: 'hát', wordForm: 'verb', englishDefinition: '/ŋ/'),
          Vocabulary(id: 'ipa-3-20', word: 'hat', meaning: 'mũ', wordForm: 'noun', englishDefinition: '/h/'),
          Vocabulary(id: 'ipa-3-21', word: 'leg', meaning: 'chân', wordForm: 'noun', englishDefinition: '/l/'),
          Vocabulary(id: 'ipa-3-22', word: 'red', meaning: 'màu đỏ', wordForm: 'adjective', englishDefinition: '/r/'),
          Vocabulary(id: 'ipa-3-23', word: 'yes', meaning: 'có', wordForm: 'adverb', englishDefinition: '/j/'),
          Vocabulary(id: 'ipa-3-24', word: 'wet', meaning: 'ướt', wordForm: 'adjective', englishDefinition: '/w/'),
        ],
      ),
      // Topic Idiom: Common Idioms
      Topic(
        id: 'idiom-1',
        name: 'Thành ngữ thông dụng',
        displayName: 'Thành ngữ\nthông dụng',
        description: 'Các thành ngữ tiếng Anh thường gặp',
        categoryId: CategoryIds.idiom,
        words: [
          Vocabulary(
            id: 'idiom-1-1',
            word: 'break the ice',
            meaning: 'phá tan sự ngượng ngùng, bắt đầu cuộc trò chuyện',
            wordForm: 'idiom',
            englishDefinition: 'to make people feel more relaxed',
          ),
          Vocabulary(
            id: 'idiom-1-2',
            word: 'piece of cake',
            meaning: 'việc dễ dàng',
            wordForm: 'idiom',
            englishDefinition: 'something very easy to do',
          ),
          Vocabulary(
            id: 'idiom-1-3',
            word: 'hit the books',
            meaning: 'học hành chăm chỉ',
            wordForm: 'idiom',
            englishDefinition: 'to study hard',
          ),
          Vocabulary(
            id: 'idiom-1-4',
            word: 'spill the beans',
            meaning: 'tiết lộ bí mật',
            wordForm: 'idiom',
            englishDefinition: 'to reveal a secret',
          ),
          Vocabulary(
            id: 'idiom-1-5',
            word: 'cost an arm and a leg',
            meaning: 'rất đắt tiền',
            wordForm: 'idiom',
            englishDefinition: 'very expensive',
          ),
          Vocabulary(
            id: 'idiom-1-6',
            word: 'under the weather',
            meaning: 'cảm thấy không khỏe',
            wordForm: 'idiom',
            englishDefinition: 'feeling sick or unwell',
          ),
          Vocabulary(
            id: 'idiom-1-7',
            word: 'kill two birds with one stone',
            meaning: 'một mũi tên trúng hai đích',
            wordForm: 'idiom',
            englishDefinition: 'accomplish two things at once',
          ),
          Vocabulary(
            id: 'idiom-1-8',
            word: 'let the cat out of the bag',
            meaning: 'để lộ bí mật',
            wordForm: 'idiom',
            englishDefinition: 'accidentally reveal a secret',
          ),
          Vocabulary(
            id: 'idiom-1-9',
            word: 'when pigs fly',
            meaning: 'không bao giờ xảy ra',
            wordForm: 'idiom',
            englishDefinition: 'something that will never happen',
          ),
          Vocabulary(
            id: 'idiom-1-10',
            word: 'the ball is in your court',
            meaning: 'quyết định thuộc về bạn',
            wordForm: 'idiom',
            englishDefinition: 'it is your turn to take action',
          ),
        ],
      ),
      // Topic Idiom: Business Collocations
      Topic(
        id: 'idiom-2',
        name: 'Collocations kinh doanh',
        displayName: 'Collocations\nkinh doanh',
        description: 'Các cụm từ thường dùng trong kinh doanh',
        categoryId: CategoryIds.idiom,
        words: [
          Vocabulary(
            id: 'idiom-2-1',
            word: 'make a profit',
            meaning: 'tạo ra lợi nhuận',
            wordForm: 'collocation',
            englishDefinition: 'to earn money from business',
          ),
          Vocabulary(
            id: 'idiom-2-2',
            word: 'close a deal',
            meaning: 'hoàn tất thỏa thuận',
            wordForm: 'collocation',
            englishDefinition: 'to successfully complete a business agreement',
          ),
          Vocabulary(
            id: 'idiom-2-3',
            word: 'launch a product',
            meaning: 'ra mắt sản phẩm',
            wordForm: 'collocation',
            englishDefinition: 'to introduce a new product to the market',
          ),
          Vocabulary(
            id: 'idiom-2-4',
            word: 'meet a deadline',
            meaning: 'hoàn thành đúng hạn',
            wordForm: 'collocation',
            englishDefinition: 'to finish work by the required time',
          ),
          Vocabulary(
            id: 'idiom-2-5',
            word: 'cut costs',
            meaning: 'cắt giảm chi phí',
            wordForm: 'collocation',
            englishDefinition: 'to reduce expenses',
          ),
          Vocabulary(
            id: 'idiom-2-6',
            word: 'boost sales',
            meaning: 'tăng doanh số',
            wordForm: 'collocation',
            englishDefinition: 'to increase the amount of products sold',
          ),
          Vocabulary(
            id: 'idiom-2-7',
            word: 'market share',
            meaning: 'thị phần',
            wordForm: 'collocation',
            englishDefinition: 'percentage of total sales in a market',
          ),
          Vocabulary(
            id: 'idiom-2-8',
            word: 'cash flow',
            meaning: 'dòng tiền',
            wordForm: 'collocation',
            englishDefinition: 'movement of money in and out of business',
          ),
          Vocabulary(
            id: 'idiom-2-9',
            word: 'brand awareness',
            meaning: 'nhận diện thương hiệu',
            wordForm: 'collocation',
            englishDefinition: 'how well customers know a brand',
          ),
          Vocabulary(
            id: 'idiom-2-10',
            word: 'competitive advantage',
            meaning: 'lợi thế cạnh tranh',
            wordForm: 'collocation',
            englishDefinition: 'superior position over competitors',
          ),
        ],
      ),
      // Topic Idiom: Daily Life Collocations
      Topic(
        id: 'idiom-3',
        name: 'Collocations đời thường',
        displayName: 'Collocations\nđời thường',
        description: 'Các cụm từ thường dùng trong cuộc sống hàng ngày',
        categoryId: CategoryIds.idiom,
        words: [
          Vocabulary(
            id: 'idiom-3-1',
            word: 'make a decision',
            meaning: 'đưa ra quyết định',
            wordForm: 'collocation',
            englishDefinition: 'to choose what to do',
          ),
          Vocabulary(
            id: 'idiom-3-2',
            word: 'take a break',
            meaning: 'nghỉ ngơi',
            wordForm: 'collocation',
            englishDefinition: 'to stop working for a short time',
          ),
          Vocabulary(
            id: 'idiom-3-3',
            word: 'catch a cold',
            meaning: 'bị cảm lạnh',
            wordForm: 'collocation',
            englishDefinition: 'to become sick with a cold',
          ),
          Vocabulary(
            id: 'idiom-3-4',
            word: 'do homework',
            meaning: 'làm bài tập về nhà',
            wordForm: 'collocation',
            englishDefinition: 'to complete school assignments',
          ),
          Vocabulary(
            id: 'idiom-3-5',
            word: 'heavy rain',
            meaning: 'mưa to',
            wordForm: 'collocation',
            englishDefinition: 'intense rainfall',
          ),
          Vocabulary(
            id: 'idiom-3-6',
            word: 'strong wind',
            meaning: 'gió mạnh',
            wordForm: 'collocation',
            englishDefinition: 'powerful wind',
          ),
          Vocabulary(
            id: 'idiom-3-7',
            word: 'bright sunshine',
            meaning: 'nắng chói chang',
            wordForm: 'collocation',
            englishDefinition: 'intense sunlight',
          ),
          Vocabulary(
            id: 'idiom-3-8',
            word: 'fast food',
            meaning: 'thức ăn nhanh',
            wordForm: 'collocation',
            englishDefinition: 'quickly prepared food',
          ),
          Vocabulary(
            id: 'idiom-3-9',
            word: 'save time',
            meaning: 'tiết kiệm thời gian',
            wordForm: 'collocation',
            englishDefinition: 'to use less time',
          ),
          Vocabulary(
            id: 'idiom-3-10',
            word: 'waste money',
            meaning: 'lãng phí tiền',
            wordForm: 'collocation',
            englishDefinition: 'to spend money unnecessarily',
          ),
        ],
      ),
      // Topic Grammar: Thì hiện tại đơn
      Topic(
        id: 'grammar-1',
        name: 'Thì hiện tại đơn',
        displayName: 'Thì hiện tại đơn\n(Present Simple)',
        description: 'Cấu trúc và cách sử dụng thì hiện tại đơn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-1-1',
            word: 'I work every day',
            meaning: 'Tôi làm việc mỗi ngày',
            wordForm: 'sentence',
            englishDefinition: 'S + V(s/es) + O',
          ),
          Vocabulary(
            id: 'grammar-1-2',
            word: 'She doesn\'t like coffee',
            meaning: 'Cô ấy không thích cà phê',
            wordForm: 'sentence',
            englishDefinition: 'S + do/does + not + V',
          ),
          Vocabulary(
            id: 'grammar-1-3',
            word: 'Do you speak English?',
            meaning: 'Bạn có nói tiếng Anh không?',
            wordForm: 'sentence',
            englishDefinition: 'Do/Does + S + V?',
          ),
          Vocabulary(
            id: 'grammar-1-4',
            word: 'always',
            meaning: 'luôn luôn',
            wordForm: 'adverb',
            englishDefinition: 'frequency adverb',
          ),
          Vocabulary(
            id: 'grammar-1-5',
            word: 'usually',
            meaning: 'thường thường',
            wordForm: 'adverb',
            englishDefinition: 'frequency adverb',
          ),
          Vocabulary(
            id: 'grammar-1-6',
            word: 'often',
            meaning: 'thường xuyên',
            wordForm: 'adverb',
            englishDefinition: 'frequency adverb',
          ),
          Vocabulary(
            id: 'grammar-1-7',
            word: 'sometimes',
            meaning: 'đôi khi',
            wordForm: 'adverb',
            englishDefinition: 'frequency adverb',
          ),
          Vocabulary(
            id: 'grammar-1-8',
            word: 'never',
            meaning: 'không bao giờ',
            wordForm: 'adverb',
            englishDefinition: 'frequency adverb',
          ),
        ],
      ),
      // Topic Grammar: Thì quá khứ đơn
      Topic(
        id: 'grammar-2',
        name: 'Thì quá khứ đơn',
        displayName: 'Thì quá khứ đơn\n(Past Simple)',
        description: 'Cấu trúc và cách sử dụng thì quá khứ đơn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-2-1',
            word: 'I went to school yesterday',
            meaning: 'Tôi đã đi học hôm qua',
            wordForm: 'sentence',
            englishDefinition: 'S + V2 + O',
          ),
          Vocabulary(
            id: 'grammar-2-2',
            word: 'She didn\'t finish her homework',
            meaning: 'Cô ấy đã không hoàn thành bài tập',
            wordForm: 'sentence',
            englishDefinition: 'S + did + not + V',
          ),
          Vocabulary(
            id: 'grammar-2-3',
            word: 'Did you see him?',
            meaning: 'Bạn có thấy anh ấy không?',
            wordForm: 'sentence',
            englishDefinition: 'Did + S + V?',
          ),
          Vocabulary(
            id: 'grammar-2-4',
            word: 'yesterday',
            meaning: 'hôm qua',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-2-5',
            word: 'last week',
            meaning: 'tuần trước',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-2-6',
            word: 'ago',
            meaning: 'cách đây',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-2-7',
            word: 'was/were',
            meaning: 'thì, là, ở (quá khứ)',
            wordForm: 'verb',
            englishDefinition: 'past form of be',
          ),
          Vocabulary(
            id: 'grammar-2-8',
            word: 'regular verbs',
            meaning: 'động từ có quy tắc',
            wordForm: 'phrase',
            englishDefinition: 'verbs ending in -ed',
          ),
        ],
      ),
      // Topic Grammar: Thì hiện tại tiếp diễn
      Topic(
        id: 'grammar-3',
        name: 'Thì hiện tại tiếp diễn',
        displayName: 'Thì hiện tại tiếp diễn\n(Present Continuous)',
        description: 'Cấu trúc và cách sử dụng thì hiện tại tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-3-1',
            word: 'I am studying now',
            meaning: 'Tôi đang học bây giờ',
            wordForm: 'sentence',
            englishDefinition: 'S + am/is/are + V-ing',
          ),
          Vocabulary(
            id: 'grammar-3-2',
            word: 'She is not working',
            meaning: 'Cô ấy không đang làm việc',
            wordForm: 'sentence',
            englishDefinition: 'S + am/is/are + not + V-ing',
          ),
          Vocabulary(
            id: 'grammar-3-3',
            word: 'Are you listening?',
            meaning: 'Bạn có đang nghe không?',
            wordForm: 'sentence',
            englishDefinition: 'Am/Is/Are + S + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-3-4',
            word: 'now',
            meaning: 'bây giờ',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-3-5',
            word: 'at the moment',
            meaning: 'ngay lúc này',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-3-6',
            word: 'currently',
            meaning: 'hiện tại',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-3-7',
            word: 'right now',
            meaning: 'ngay bây giờ',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-3-8',
            word: 'V-ing',
            meaning: 'động từ thêm -ing',
            wordForm: 'structure',
            englishDefinition: 'present participle',
          ),
        ],
      ),
      // Topic Grammar: Thì hiện tại hoàn thành
      Topic(
        id: 'grammar-4',
        name: 'Thì hiện tại hoàn thành',
        displayName: 'Thì hiện tại hoàn thành\n(Present Perfect)',
        description: 'Cấu trúc và cách sử dụng thì hiện tại hoàn thành',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-4-1',
            word: 'I have finished my homework',
            meaning: 'Tôi đã hoàn thành bài tập',
            wordForm: 'sentence',
            englishDefinition: 'S + have/has + V3',
          ),
          Vocabulary(
            id: 'grammar-4-2',
            word: 'She has not seen him',
            meaning: 'Cô ấy chưa thấy anh ấy',
            wordForm: 'sentence',
            englishDefinition: 'S + have/has + not + V3',
          ),
          Vocabulary(
            id: 'grammar-4-3',
            word: 'Have you been to Paris?',
            meaning: 'Bạn đã từng đến Paris chưa?',
            wordForm: 'sentence',
            englishDefinition: 'Have/Has + S + V3?',
          ),
          Vocabulary(
            id: 'grammar-4-4',
            word: 'already',
            meaning: 'rồi',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-4-5',
            word: 'yet',
            meaning: 'chưa',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-4-6',
            word: 'just',
            meaning: 'vừa mới',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-4-7',
            word: 'ever',
            meaning: 'đã từng',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-4-8',
            word: 'never',
            meaning: 'chưa bao giờ',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì hiện tại hoàn thành tiếp diễn
      Topic(
        id: 'grammar-5',
        name: 'Thì hiện tại hoàn thành tiếp diễn',
        displayName: 'Thì hiện tại hoàn thành tiếp diễn\n(Present Perfect Continuous)',
        description: 'Cấu trúc và cách sử dụng thì hiện tại hoàn thành tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-5-1',
            word: 'I have been studying for 2 hours',
            meaning: 'Tôi đã học được 2 giờ',
            wordForm: 'sentence',
            englishDefinition: 'S + have/has + been + V-ing',
          ),
          Vocabulary(
            id: 'grammar-5-2',
            word: 'She has been working since morning',
            meaning: 'Cô ấy đã làm việc từ sáng',
            wordForm: 'sentence',
            englishDefinition: 'S + have/has + been + V-ing + since/for',
          ),
          Vocabulary(
            id: 'grammar-5-3',
            word: 'How long have you been waiting?',
            meaning: 'Bạn đã đợi bao lâu rồi?',
            wordForm: 'sentence',
            englishDefinition: 'How long + have/has + S + been + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-5-4',
            word: 'for',
            meaning: 'trong khoảng (thời gian)',
            wordForm: 'preposition',
            englishDefinition: 'duration marker',
          ),
          Vocabulary(
            id: 'grammar-5-5',
            word: 'since',
            meaning: 'từ khi',
            wordForm: 'preposition',
            englishDefinition: 'starting point marker',
          ),
          Vocabulary(
            id: 'grammar-5-6',
            word: 'all day',
            meaning: 'cả ngày',
            wordForm: 'phrase',
            englishDefinition: 'duration marker',
          ),
          Vocabulary(
            id: 'grammar-5-7',
            word: 'recently',
            meaning: 'gần đây',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-5-8',
            word: 'lately',
            meaning: 'gần đây',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì quá khứ tiếp diễn
      Topic(
        id: 'grammar-6',
        name: 'Thì quá khứ tiếp diễn',
        displayName: 'Thì quá khứ tiếp diễn\n(Past Continuous)',
        description: 'Cấu trúc và cách sử dụng thì quá khứ tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-6-1',
            word: 'I was studying when he called',
            meaning: 'Tôi đang học khi anh ấy gọi',
            wordForm: 'sentence',
            englishDefinition: 'S + was/were + V-ing',
          ),
          Vocabulary(
            id: 'grammar-6-2',
            word: 'They were not working',
            meaning: 'Họ không đang làm việc',
            wordForm: 'sentence',
            englishDefinition: 'S + was/were + not + V-ing',
          ),
          Vocabulary(
            id: 'grammar-6-3',
            word: 'Were you sleeping?',
            meaning: 'Bạn có đang ngủ không?',
            wordForm: 'sentence',
            englishDefinition: 'Was/Were + S + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-6-4',
            word: 'while',
            meaning: 'trong khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-6-5',
            word: 'when',
            meaning: 'khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-6-6',
            word: 'at that time',
            meaning: 'vào lúc đó',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-6-7',
            word: 'at 8pm yesterday',
            meaning: 'lúc 8 giờ tối hôm qua',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-6-8',
            word: 'was/were + V-ing',
            meaning: 'đang (quá khứ)',
            wordForm: 'structure',
            englishDefinition: 'past continuous form',
          ),
        ],
      ),
      // Topic Grammar: Thì quá khứ hoàn thành
      Topic(
        id: 'grammar-7',
        name: 'Thì quá khứ hoàn thành',
        displayName: 'Thì quá khứ hoàn thành\n(Past Perfect)',
        description: 'Cấu trúc và cách sử dụng thì quá khứ hoàn thành',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-7-1',
            word: 'I had finished before he arrived',
            meaning: 'Tôi đã hoàn thành trước khi anh ấy đến',
            wordForm: 'sentence',
            englishDefinition: 'S + had + V3',
          ),
          Vocabulary(
            id: 'grammar-7-2',
            word: 'She had not seen him',
            meaning: 'Cô ấy chưa thấy anh ấy',
            wordForm: 'sentence',
            englishDefinition: 'S + had + not + V3',
          ),
          Vocabulary(
            id: 'grammar-7-3',
            word: 'Had you eaten?',
            meaning: 'Bạn đã ăn chưa?',
            wordForm: 'sentence',
            englishDefinition: 'Had + S + V3?',
          ),
          Vocabulary(
            id: 'grammar-7-4',
            word: 'before',
            meaning: 'trước khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-7-5',
            word: 'after',
            meaning: 'sau khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-7-6',
            word: 'by the time',
            meaning: 'đến lúc',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-7-7',
            word: 'already',
            meaning: 'đã rồi',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-7-8',
            word: 'had + V3',
            meaning: 'đã (quá khứ hoàn thành)',
            wordForm: 'structure',
            englishDefinition: 'past perfect form',
          ),
        ],
      ),
      // Topic Grammar: Thì quá khứ hoàn thành tiếp diễn
      Topic(
        id: 'grammar-8',
        name: 'Thì quá khứ hoàn thành tiếp diễn',
        displayName: 'Thì quá khứ hoàn thành tiếp diễn\n(Past Perfect Continuous)',
        description: 'Cấu trúc và cách sử dụng thì quá khứ hoàn thành tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-8-1',
            word: 'I had been studying for 3 hours',
            meaning: 'Tôi đã học được 3 giờ',
            wordForm: 'sentence',
            englishDefinition: 'S + had + been + V-ing',
          ),
          Vocabulary(
            id: 'grammar-8-2',
            word: 'She had been working since morning',
            meaning: 'Cô ấy đã làm việc từ sáng',
            wordForm: 'sentence',
            englishDefinition: 'S + had + been + V-ing + since/for',
          ),
          Vocabulary(
            id: 'grammar-8-3',
            word: 'How long had you been waiting?',
            meaning: 'Bạn đã đợi bao lâu rồi?',
            wordForm: 'sentence',
            englishDefinition: 'How long + had + S + been + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-8-4',
            word: 'for',
            meaning: 'trong khoảng (thời gian)',
            wordForm: 'preposition',
            englishDefinition: 'duration marker',
          ),
          Vocabulary(
            id: 'grammar-8-5',
            word: 'since',
            meaning: 'từ khi',
            wordForm: 'preposition',
            englishDefinition: 'starting point marker',
          ),
          Vocabulary(
            id: 'grammar-8-6',
            word: 'all morning',
            meaning: 'cả buổi sáng',
            wordForm: 'phrase',
            englishDefinition: 'duration marker',
          ),
          Vocabulary(
            id: 'grammar-8-7',
            word: 'until',
            meaning: 'cho đến khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-8-8',
            word: 'had been + V-ing',
            meaning: 'đã đang (quá khứ hoàn thành tiếp diễn)',
            wordForm: 'structure',
            englishDefinition: 'past perfect continuous form',
          ),
        ],
      ),
      // Topic Grammar: Thì tương lai đơn
      Topic(
        id: 'grammar-9',
        name: 'Thì tương lai đơn',
        displayName: 'Thì tương lai đơn\n(Future Simple)',
        description: 'Cấu trúc và cách sử dụng thì tương lai đơn với will',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-9-1',
            word: 'I will call you tomorrow',
            meaning: 'Tôi sẽ gọi bạn ngày mai',
            wordForm: 'sentence',
            englishDefinition: 'S + will + V',
          ),
          Vocabulary(
            id: 'grammar-9-2',
            word: 'She will not come',
            meaning: 'Cô ấy sẽ không đến',
            wordForm: 'sentence',
            englishDefinition: 'S + will + not + V',
          ),
          Vocabulary(
            id: 'grammar-9-3',
            word: 'Will you help me?',
            meaning: 'Bạn sẽ giúp tôi chứ?',
            wordForm: 'sentence',
            englishDefinition: 'Will + S + V?',
          ),
          Vocabulary(
            id: 'grammar-9-4',
            word: 'will',
            meaning: 'sẽ',
            wordForm: 'modal verb',
            englishDefinition: 'future intention',
          ),
          Vocabulary(
            id: 'grammar-9-5',
            word: 'tomorrow',
            meaning: 'ngày mai',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-9-6',
            word: 'next week',
            meaning: 'tuần tới',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-9-7',
            word: 'soon',
            meaning: 'sớm thôi',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-9-8',
            word: 'in the future',
            meaning: 'trong tương lai',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì tương lai tiếp diễn
      Topic(
        id: 'grammar-10',
        name: 'Thì tương lai tiếp diễn',
        displayName: 'Thì tương lai tiếp diễn\n(Future Continuous)',
        description: 'Cấu trúc và cách sử dụng thì tương lai tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-10-1',
            word: 'I will be studying at 8pm',
            meaning: 'Tôi sẽ đang học lúc 8 giờ tối',
            wordForm: 'sentence',
            englishDefinition: 'S + will + be + V-ing',
          ),
          Vocabulary(
            id: 'grammar-10-2',
            word: 'She will not be working',
            meaning: 'Cô ấy sẽ không đang làm việc',
            wordForm: 'sentence',
            englishDefinition: 'S + will + not + be + V-ing',
          ),
          Vocabulary(
            id: 'grammar-10-3',
            word: 'Will you be waiting?',
            meaning: 'Bạn sẽ đang đợi chứ?',
            wordForm: 'sentence',
            englishDefinition: 'Will + S + be + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-10-4',
            word: 'at this time tomorrow',
            meaning: 'vào giờ này ngày mai',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-10-5',
            word: 'at 9am next Monday',
            meaning: 'lúc 9 giờ sáng thứ Hai tới',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-10-6',
            word: 'will be + V-ing',
            meaning: 'sẽ đang',
            wordForm: 'structure',
            englishDefinition: 'future continuous form',
          ),
          Vocabulary(
            id: 'grammar-10-7',
            word: 'when',
            meaning: 'khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-10-8',
            word: 'while',
            meaning: 'trong khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì tương lai hoàn thành
      Topic(
        id: 'grammar-11',
        name: 'Thì tương lai hoàn thành',
        displayName: 'Thì tương lai hoàn thành\n(Future Perfect)',
        description: 'Cấu trúc và cách sử dụng thì tương lai hoàn thành',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-11-1',
            word: 'I will have finished by 5pm',
            meaning: 'Tôi sẽ hoàn thành trước 5 giờ',
            wordForm: 'sentence',
            englishDefinition: 'S + will + have + V3',
          ),
          Vocabulary(
            id: 'grammar-11-2',
            word: 'She will have arrived',
            meaning: 'Cô ấy sẽ đã đến',
            wordForm: 'sentence',
            englishDefinition: 'S + will + have + V3',
          ),
          Vocabulary(
            id: 'grammar-11-3',
            word: 'Will you have finished?',
            meaning: 'Bạn sẽ hoàn thành chưa?',
            wordForm: 'sentence',
            englishDefinition: 'Will + S + have + V3?',
          ),
          Vocabulary(
            id: 'grammar-11-4',
            word: 'by',
            meaning: 'trước',
            wordForm: 'preposition',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-11-5',
            word: 'by the time',
            meaning: 'đến lúc',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-11-6',
            word: 'by tomorrow',
            meaning: 'trước ngày mai',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-11-7',
            word: 'will have + V3',
            meaning: 'sẽ đã',
            wordForm: 'structure',
            englishDefinition: 'future perfect form',
          ),
          Vocabulary(
            id: 'grammar-11-8',
            word: 'before',
            meaning: 'trước khi',
            wordForm: 'conjunction',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì tương lai hoàn thành tiếp diễn
      Topic(
        id: 'grammar-12',
        name: 'Thì tương lai hoàn thành tiếp diễn',
        displayName: 'Thì tương lai hoàn thành tiếp diễn\n(Future Perfect Continuous)',
        description: 'Cấu trúc và cách sử dụng thì tương lai hoàn thành tiếp diễn',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-12-1',
            word: 'I will have been studying for 3 hours',
            meaning: 'Tôi sẽ đã học được 3 giờ',
            wordForm: 'sentence',
            englishDefinition: 'S + will + have + been + V-ing',
          ),
          Vocabulary(
            id: 'grammar-12-2',
            word: 'She will have been working',
            meaning: 'Cô ấy sẽ đã đang làm việc',
            wordForm: 'sentence',
            englishDefinition: 'S + will + have + been + V-ing',
          ),
          Vocabulary(
            id: 'grammar-12-3',
            word: 'How long will you have been waiting?',
            meaning: 'Bạn sẽ đã đợi bao lâu?',
            wordForm: 'sentence',
            englishDefinition: 'How long + will + S + have + been + V-ing?',
          ),
          Vocabulary(
            id: 'grammar-12-4',
            word: 'for',
            meaning: 'trong khoảng (thời gian)',
            wordForm: 'preposition',
            englishDefinition: 'duration marker',
          ),
          Vocabulary(
            id: 'grammar-12-5',
            word: 'by the time',
            meaning: 'đến lúc',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-12-6',
            word: 'will have been + V-ing',
            meaning: 'sẽ đã đang',
            wordForm: 'structure',
            englishDefinition: 'future perfect continuous form',
          ),
          Vocabulary(
            id: 'grammar-12-7',
            word: 'by next month',
            meaning: 'trước tháng tới',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-12-8',
            word: 'for 2 hours by then',
            meaning: 'được 2 giờ đến lúc đó',
            wordForm: 'phrase',
            englishDefinition: 'duration marker',
          ),
        ],
      ),
      // Topic Grammar: Thì tương lai gần
      Topic(
        id: 'grammar-13',
        name: 'Thì tương lai gần',
        displayName: 'Thì tương lai gần\n(Going to)',
        description: 'Cấu trúc và cách sử dụng thì tương lai gần với going to',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-13-1',
            word: 'I am going to study',
            meaning: 'Tôi sẽ học',
            wordForm: 'sentence',
            englishDefinition: 'S + am/is/are + going to + V',
          ),
          Vocabulary(
            id: 'grammar-13-2',
            word: 'She is not going to come',
            meaning: 'Cô ấy sẽ không đến',
            wordForm: 'sentence',
            englishDefinition: 'S + am/is/are + not + going to + V',
          ),
          Vocabulary(
            id: 'grammar-13-3',
            word: 'Are you going to leave?',
            meaning: 'Bạn sẽ rời đi chứ?',
            wordForm: 'sentence',
            englishDefinition: 'Am/Is/Are + S + going to + V?',
          ),
          Vocabulary(
            id: 'grammar-13-4',
            word: 'going to',
            meaning: 'sẽ (có kế hoạch)',
            wordForm: 'phrase',
            englishDefinition: 'planned future',
          ),
          Vocabulary(
            id: 'grammar-13-5',
            word: 'plan to',
            meaning: 'dự định',
            wordForm: 'phrase',
            englishDefinition: 'intention',
          ),
          Vocabulary(
            id: 'grammar-13-6',
            word: 'intend to',
            meaning: 'có ý định',
            wordForm: 'phrase',
            englishDefinition: 'intention',
          ),
          Vocabulary(
            id: 'grammar-13-7',
            word: 'tomorrow',
            meaning: 'ngày mai',
            wordForm: 'adverb',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-13-8',
            word: 'next week',
            meaning: 'tuần tới',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
        ],
      ),
      // Topic Grammar: Thì quá khứ tương lai
      Topic(
        id: 'grammar-14',
        name: 'Thì quá khứ tương lai',
        displayName: 'Thì quá khứ tương lai\n(Past Future)',
        description: 'Cấu trúc và cách sử dụng thì quá khứ tương lai với would',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-14-1',
            word: 'I said I would help',
            meaning: 'Tôi nói tôi sẽ giúp',
            wordForm: 'sentence',
            englishDefinition: 'S + would + V',
          ),
          Vocabulary(
            id: 'grammar-14-2',
            word: 'She would not come',
            meaning: 'Cô ấy sẽ không đến',
            wordForm: 'sentence',
            englishDefinition: 'S + would + not + V',
          ),
          Vocabulary(
            id: 'grammar-14-3',
            word: 'Would you help me?',
            meaning: 'Bạn sẽ giúp tôi chứ?',
            wordForm: 'sentence',
            englishDefinition: 'Would + S + V?',
          ),
          Vocabulary(
            id: 'grammar-14-4',
            word: 'would',
            meaning: 'sẽ (quá khứ)',
            wordForm: 'modal verb',
            englishDefinition: 'past future',
          ),
          Vocabulary(
            id: 'grammar-14-5',
            word: 'was/were going to',
            meaning: 'sẽ (quá khứ, có kế hoạch)',
            wordForm: 'phrase',
            englishDefinition: 'past planned future',
          ),
          Vocabulary(
            id: 'grammar-14-6',
            word: 'the next day',
            meaning: 'ngày hôm sau',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-14-7',
            word: 'the following week',
            meaning: 'tuần sau đó',
            wordForm: 'phrase',
            englishDefinition: 'time marker',
          ),
          Vocabulary(
            id: 'grammar-14-8',
            word: 'would have + V3',
            meaning: 'sẽ đã (quá khứ hoàn thành)',
            wordForm: 'structure',
            englishDefinition: 'past future perfect',
          ),
        ],
      ),
      // Topic Grammar: Động từ khuyết thiếu
      Topic(
        id: 'grammar-15',
        name: 'Động từ khuyết thiếu',
        displayName: 'Động từ khuyết thiếu\n(Modal Verbs)',
        description: 'Các động từ khuyết thiếu và cách sử dụng',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-4-1',
            word: 'can',
            meaning: 'có thể',
            wordForm: 'modal verb',
            englishDefinition: 'ability/permission',
          ),
          Vocabulary(
            id: 'grammar-4-2',
            word: 'could',
            meaning: 'có thể (quá khứ/lịch sự)',
            wordForm: 'modal verb',
            englishDefinition: 'past ability/polite request',
          ),
          Vocabulary(
            id: 'grammar-4-3',
            word: 'should',
            meaning: 'nên',
            wordForm: 'modal verb',
            englishDefinition: 'advice/recommendation',
          ),
          Vocabulary(
            id: 'grammar-4-4',
            word: 'must',
            meaning: 'phải',
            wordForm: 'modal verb',
            englishDefinition: 'obligation/necessity',
          ),
          Vocabulary(
            id: 'grammar-4-5',
            word: 'may',
            meaning: 'có thể',
            wordForm: 'modal verb',
            englishDefinition: 'possibility/permission',
          ),
          Vocabulary(
            id: 'grammar-4-6',
            word: 'might',
            meaning: 'có thể (ít chắc chắn)',
            wordForm: 'modal verb',
            englishDefinition: 'less certain possibility',
          ),
          Vocabulary(
            id: 'grammar-4-7',
            word: 'have to',
            meaning: 'phải',
            wordForm: 'phrase',
            englishDefinition: 'external obligation',
          ),
          Vocabulary(
            id: 'grammar-4-8',
            word: 'ought to',
            meaning: 'nên',
            wordForm: 'phrase',
            englishDefinition: 'moral obligation',
          ),
        ],
      ),
      // Topic Grammar: Câu điều kiện
      Topic(
        id: 'grammar-16',
        name: 'Câu điều kiện',
        displayName: 'Câu điều kiện\n(Conditionals)',
        description: 'Các loại câu điều kiện trong tiếng Anh',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-5-1',
            word: 'If it rains, I will stay home',
            meaning: 'Nếu trời mưa, tôi sẽ ở nhà',
            wordForm: 'sentence',
            englishDefinition: 'Type 1: If + present, will + V',
          ),
          Vocabulary(
            id: 'grammar-5-2',
            word: 'If I were rich, I would travel',
            meaning: 'Nếu tôi giàu, tôi sẽ đi du lịch',
            wordForm: 'sentence',
            englishDefinition: 'Type 2: If + past, would + V',
          ),
          Vocabulary(
            id: 'grammar-5-3',
            word: 'If I had studied, I would have passed',
            meaning: 'Nếu tôi đã học, tôi đã đậu',
            wordForm: 'sentence',
            englishDefinition: 'Type 3: If + past perfect, would have + V3',
          ),
          Vocabulary(
            id: 'grammar-5-4',
            word: 'unless',
            meaning: 'trừ khi',
            wordForm: 'conjunction',
            englishDefinition: 'if not',
          ),
          Vocabulary(
            id: 'grammar-5-5',
            word: 'provided that',
            meaning: 'miễn là',
            wordForm: 'phrase',
            englishDefinition: 'on condition that',
          ),
          Vocabulary(
            id: 'grammar-5-6',
            word: 'as long as',
            meaning: 'miễn là',
            wordForm: 'phrase',
            englishDefinition: 'on condition that',
          ),
          Vocabulary(
            id: 'grammar-5-7',
            word: 'in case',
            meaning: 'phòng khi',
            wordForm: 'phrase',
            englishDefinition: 'as a precaution',
          ),
          Vocabulary(
            id: 'grammar-5-8',
            word: 'wish',
            meaning: 'ước',
            wordForm: 'verb',
            englishDefinition: 'unreal condition',
          ),
        ],
      ),
      // Topic Grammar: Câu bị động
      Topic(
        id: 'grammar-17',
        name: 'Câu bị động',
        displayName: 'Câu bị động\n(Passive Voice)',
        description: 'Cấu trúc và cách sử dụng câu bị động',
        categoryId: CategoryIds.grammar,
        words: [
          Vocabulary(
            id: 'grammar-6-1',
            word: 'The book is written by him',
            meaning: 'Cuốn sách được viết bởi anh ấy',
            wordForm: 'sentence',
            englishDefinition: 'S + be + V3 + by + O',
          ),
          Vocabulary(
            id: 'grammar-6-2',
            word: 'The house was built last year',
            meaning: 'Ngôi nhà được xây năm ngoái',
            wordForm: 'sentence',
            englishDefinition: 'S + was/were + V3',
          ),
          Vocabulary(
            id: 'grammar-6-3',
            word: 'The car will be repaired',
            meaning: 'Chiếc xe sẽ được sửa',
            wordForm: 'sentence',
            englishDefinition: 'S + will be + V3',
          ),
          Vocabulary(
            id: 'grammar-6-4',
            word: 'by',
            meaning: 'bởi',
            wordForm: 'preposition',
            englishDefinition: 'passive agent marker',
          ),
          Vocabulary(
            id: 'grammar-6-5',
            word: 'be + past participle',
            meaning: 'được + động từ quá khứ phân từ',
            wordForm: 'structure',
            englishDefinition: 'passive form',
          ),
          Vocabulary(
            id: 'grammar-6-6',
            word: 'get + past participle',
            meaning: 'được + động từ quá khứ phân từ',
            wordForm: 'structure',
            englishDefinition: 'informal passive',
          ),
          Vocabulary(
            id: 'grammar-6-7',
            word: 'active voice',
            meaning: 'câu chủ động',
            wordForm: 'phrase',
            englishDefinition: 'subject does action',
          ),
          Vocabulary(
            id: 'grammar-6-8',
            word: 'passive voice',
            meaning: 'câu bị động',
            wordForm: 'phrase',
            englishDefinition: 'subject receives action',
          ),
        ],
      ),
    ];

    await saveTopics(demoTopics);
  }
}
